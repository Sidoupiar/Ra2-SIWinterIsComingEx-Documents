# 标记效果-广播与监听

## 广播 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Broadcast
```

注册一个广播频道，监听这个广播频道的 `监听标记` 会获得效果。  
单位死亡、标记进入结束状态或标记被移除时会清除掉这个标记带来的广播强度。

### 注意

* 相同广播频道的广播强度会互相叠加（加算）。

* 仅能监听己方作战方的广播频道。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【广播强度】|广播的强度，默认值是 `0`，单位：点。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Delay=0                                  ; 整数 , 每隔这么多帧更新一次广播强度 , 小于 0 按 0 算 , 但是每一帧最多更新一次 , 默认值是 0 , 单位 : 帧
Effect.Modes=0,0                                ; 两个整数 , 【广播频道】【触发被动监听模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【广播频道】
                                                ; 值 = 广播频道 , 在这个频道上进行广播 , 取值范围 0 ~ 10000
                                                ; 【触发被动监听模式】
                                                ; 0 = 不触发被动监听
                                                ; 1 = 触发被动监听 , 每次更新时会触发一次
```



## 空白监听 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=ListenerBlank
```

监听指定的广播频道，从而什么都不做。

### 注意

* 仅能监听己方作战方的广播频道。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【监听概率】|-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【触发被动监听时播放的动画】 , 不写就不显示动画
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Modes=0,0                                ; 两个整数 , 【广播频道】【触发被动监听模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【广播频道】
                                                ; 值 = 广播频道 , 监听这个频道上的广播 , 取值范围 0 ~ 10000
                                                ; 【触发被动监听模式】
                                                ; 0 = 不触发被动监听
                                                ; 1 = 触发被动监听 , 此时效果无法主动触发 , 必须通过广播来触发效果 , Effect.Delay 改为最小触发间隔
```



## 医院监听 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=ListenerHospital
```

监听指定的广播频道，从而恢复生命值。

### 注意

* 可以恢复负数生命值，但是不会把单位治死。

* 需要有指定的广播频道且广播强度达标才可以恢复生命值。

* 仅能监听己方作战方的广播频道。

### 强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【监听概率】|-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|
|【广播强度转化率】|广播强度转化为生命值的比例，-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|
|【恢复量上限】|恢复的生命值上限，0 ~ 1 = 最大生命值的百分比，默认值是 `0`，单位：点。|
|【恢复量下限】|恢复的生命值下限，0 ~ 1 = 最大生命值的百分比，默认值是 `0`，单位：点。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【恢复生命值时播放的动画】【触发被动监听时播放的动画】 , 不写就不显示动画
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Counts=-1                                ; 整数 , 恢复生命值的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧恢复一次 , 小于 0 按 0 算 , 但是每一帧最多恢复一次 , 默认值是 0 , 单位 : 帧
Effect.Modes=0,0                                ; 两个整数 , 【广播频道】【触发被动监听模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【广播频道】
                                                ; 值 = 广播频道 , 监听这个频道上的广播 , 取值范围 0 ~ 10000
                                                ; 【触发被动监听模式】
                                                ; 0 = 不触发被动监听
                                                ; 1 = 触发被动监听 , 此时效果无法主动触发 , 必须通过广播来触发效果 , Effect.Delay 改为最小触发间隔
```