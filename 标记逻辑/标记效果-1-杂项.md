# 标记效果-杂项

## 引爆弹头 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Warhead
```

在单位脚下引爆一排弹头，单位自己射自己，最终伤害是个整数（去尾）。  
进入生效状态立刻引爆一次，最终引爆完毕后立刻进入结束状态。

### 注意

* 由于默认是单位自己射自己，所以弹头需要设置 `AllowDamageOnSelf=yes`（或者 `DamageSelf=yes`）才有伤害。

### 强度值转换：N 项参数

参数项数与 `Effect.Warheads` 的长度相匹配。  
每一项都是【对应每个弹头的伤害】：`0` = 没伤害，负数 = 治疗，默认值是 `0`。

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Warheads=                                ; 弹头列表 , 没有弹头直接进入结束状态
Effect.Healths=-1                               ; 浮点数 , 单位的【生命值下限】 , 当单位当前生命值 <= 【生命值下限】时, 弹头才会引爆 (仍会按照 Delay 来引爆) , 0.2 = 20% 的生命值 , 负数 = 条件不生效 , 默认值是 -1
Effect.Counts=-1                                ; 整数 , 引爆次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Amounts=-1                               ; 整数 , 每次引爆的弹头数量 , 负数 = 全炸一遍 , 0 = 炸不出来 , 默认值是 -1 , 单位 : 个
Effect.Delay=0                                  ; 整数 , 每隔这么多帧炸一次 , 小于 0 按 0 算 , 但是每一帧最多炸一次 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 不全部引爆时 , 是否随机选择弹头 , 不随机则从第一个一直爆到最后一个 , 然后再回到第一个 (只引爆一次时就永远是第一个弹头) , 默认值是 no
Effect.Self=yes                                 ; yes/no , yes = 引爆的弹头是标记所属单位的阵营 , no = 引爆的弹头是挂载标记的单位的阵营 (需要单位存活 , 否则炸不出来) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则标记会立刻进入结束状态
Effect.Modes=0                                  ; 整数 , 【不符合生命值时是否消耗次数的模式】【伤害模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【不符合生命值时是否消耗次数的模式】
                                                ; 0 = 不消耗次数
                                                ; 1 = 消耗次数
                                                ; 【伤害模式】
                                                ; 0 = 正常引爆弹头
                                                ; 1 = 不引爆弹头直接传递伤害 , 弹头的 CellSpread 和动画等需要抛射体的效果会无效 , 其他效果理论上正常
```



## 死亡时引爆弹头 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=WarheadDeath
```

在单位脚下引爆一排弹头，单位自己射自己，最终伤害是个整数（去尾）。

### 注意

* 由于默认是单位自己射自己，所以弹头需要设置 `AllowDamageOnSelf=yes`（或者 `DamageSelf=yes`）才有伤害。

### 强度值转换：N 项参数

参数项数与 `Effect.Warheads` 的长度相匹配。  
每一项都是【对应每个弹头的伤害】：`0` = 没伤害，负数 = 治疗，默认值是 `0`。

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Warheads=                                ; 弹头列表 , 没有弹头直接进入结束状态
Effect.Amounts=-1                               ; 整数 , 每次引爆的弹头数量 , 负数 = 全炸一遍 , 0 = 炸不出来 , 默认值是 -1 , 单位 : 个
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 不全部引爆时 , 是否随机选择弹头 , 不随机则从第一个一直爆到最后一个 , 然后再回到第一个 (永远从第一个弹头开始 , 引爆数量够多可以全炸好几遍) , 默认值是 no
```



## 发射武器 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Weapon
```

从单位身上发射武器，发射者是单位自己，瞄准范围内的随机目标（除了自己）。  
使用武器的 `Damage`、`ROF`、`Range`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），暂不支持开火动画和使用单位的开火位置。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

### 强度值转换：5 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.UnitType=All                             ; 单位种类 , 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
                                                ; 需要目标单位符合单位种类
Effect.Owner=All                                ; 作战方归属 , 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
                                                ; 需要目标单位符合作战方
Effect.Offset=0,0,0                             ; 三个整数 , 开火坐标 XYZ (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 暂不支持使用单位自己的开火坐标 , 默认值是 0,0,0
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【目标选择模式】【切换武器模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准标记的模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【目标选择模式】
                                                ; 0 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 放弃目标
                                                ; 1 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 仍然锁定之前的目标并尝试攻击
                                                ; 2 = 自己选择目标并持续攻击
                                                ; 3 = 打一枪换一个目标
                                                ; 【切换武器模式】
                                                ; 0 = 无可攻击目标时自动切换武器 (周围有潜在目标时)
                                                ; 1 = 不切换武器 , 如果一个武器使用无法开火 , 就会卡在这里再也无法开火
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准标记的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
```



## 自瞄武器 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=WeaponSelf
```

从单位身上发射武器，发射者是单位自己，瞄准自己。  
使用武器的 `Damage`、`ROF`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），暂不支持开火动画和使用单位的开火位置。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

### 强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Offset=0,0,0                             ; 三个整数 , 开火坐标 XYZ (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 暂不支持使用单位自己的开火坐标 , 默认值是 0,0,0
```



## 替代武器 <开火>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=WeaponChange
```

单位开火时替换发射的武器。  
使用武器的 `Damage`、`ROF`、`Burst` 用于替换武器。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），暂不支持开火动画和使用单位的开火位置。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 由于单位一次只能使用一个武器，所以多个替代武器会按照先后顺序互相顶替，最后一个才会生效。

* 由于开火时机完全取决于单位的行为，读取的 `ROF` 和 `Burst` 仅用作替换周期而非改变单位的开火延迟。

### 强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器替换间隔倍率】|不影响连发替换间隔，-1 = 无间隔，-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发替换间隔】|连发替换间隔默认 5 帧，-5 = 0 帧，-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【替换概率】|替换的概率，每个连发单独计算概率，-1 = 不替换，-0.4 = 60% 的概率替换，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于替换的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 不支持同时替换
Effect.Counts=-1                                ; 整数 , 替换次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器替换后 (完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Modes=0                                  ; 五个整数 , 【武器索引】 , 无效值默认为 0 , 默认值是 0
                                                ; 【武器索引】
                                                ; 值 = 武器索引 , 需要索引匹配才进行替换 (不匹配不消耗次数)
```



## 投放单位 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Team
```

效果等同于 AI 脚本动作 `50030,n`。  
以单位所在位置为 [原点] 创建随机单位，建筑步兵载具飞机都行，如果目标位置被占据了，则会在旁边创建。  
投放的单位归属为标记的持有者，也就是被挂载标记的单位所属的作战方。  
进入生效状态立刻投放一次，最终投放完毕后立刻进入结束状态。

详见 [`随机投放单位`](/触发与AI脚本动作/AI脚本动作-1-杂项.md#50030n-随机投放单位)。

### 注意

* 投放得太快太多可能造成游戏卡顿甚至崩溃。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【投放的概率】|未成功投放也会消耗次数，0.2 = 20% 的概率，0 = 无法投放，小于 0 按 0 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【投放时播放的动画】 , 不写就不显示动画
Effect.DataPack=                                ; 数据包的注册名 , 注意不是填写 IDCode , 数据包含义请见【AI 脚本动作 50030,n】 , 没有数据包直接进入结束状态
Effect.Counts=-1                                ; 整数 , 投放次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧投一次 , 小于 0 按 0 算 , 但是每一帧最多投一次 , 默认值是 0 , 单位 : 帧
Effect.Self=yes                                 ; yes/no , yes = 投出的单位是标记所属单位的阵营 , no = 投出的单位是挂载标记的单位的阵营 (需要单位存活) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则标记会立刻进入结束状态
```



## 死亡时投放单位 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=TeamDeath
```

效果等同于 AI 脚本动作 `50030,n`。  
以单位所在位置为 [原点] 创建随机单位，建筑步兵载具飞机都行，如果目标位置被占据了，则会在旁边创建。  
投放的单位归属为标记的持有者，也就是被挂载标记的单位所属的作战方。  
进入生效状态立刻投放一次，最终投放完毕后立刻进入结束状态。

详见 [`随机投放单位`](/触发与AI脚本动作/AI脚本动作-1-杂项.md#50030n-随机投放单位)。

### 注意

* 投放得太快太多可能造成游戏卡顿甚至崩溃。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【投放的概率】|只投放一次，0.2 = 20% 的概率，0 = 无法投放，小于 0 按 0 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【投放时播放的动画】 , 不写就不显示动画
Effect.DataPack=                                ; 数据包的注册名 , 注意不是填写 IDCode , 数据包含义请见【AI 脚本动作 50030,n】 , 没有数据包直接进入结束状态
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Self=yes                                 ; yes/no , yes = 投出的单位是标记所属单位的阵营 , no = 投出的单位是挂载标记的单位的阵营 (需要单位存活) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则标记会立刻进入结束状态
```



## 原地去世 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Death
```

标记生效的时刻，单位原地去世。

### 注意

* 死亡伤害可以被免疫，而且就算没有伤害也仍旧会发射弹头。

### 强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【原地去世的概率】|0.2 = 20% 的概率，0 = 无法去世，小于 0 按 0 算，默认值是 `0`。|
|【引爆弹头的伤害】|0 = 无伤害，负数 = 治疗，默认值是 `0`，单位：点。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【目标死亡成功时播放的动画】【目标死亡失败时播放的动画】 , 不写就不显示动画
Effect.Warheads=                                ; 弹头 , 连锁死亡使用的弹头 , 不写或留空就使用 [MarkControls] -> Warhead 的弹头
Effect.Modes=0                                  ; 整数 , 【伤害模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【伤害模式】
                                                ; 0 = 直接造成伤害 (无弹头动画) , 伤害 = [CombatDamage] -> MaxDamage
                                                ; 1 = 引爆弹头 (结算护甲) , 伤害 = 【引爆弹头的伤害】为 0 则【单位的最大生命值】
```



## 连锁死亡 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=LinkedDeath
```

标记生效期间，如果标记持有者死亡，会导致挂载此标记的单位一起死亡（要求这个单位在地图上，非载员、非驻军等）。

### 注意

* 死亡伤害可以被免疫，而且就算没有伤害也仍旧会发射弹头。

### 强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【连锁死亡的概率】|0.2 = 20% 的概率，0 = 无法去世，小于 0 按 0 算，默认值是 `0`。|
|【引爆弹头的伤害】|0 = 无伤害，负数 = 治疗，默认值是 `0`，单位：点。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【目标死亡成功时播放的动画】【目标死亡失败时播放的动画】 , 不写就不显示动画
Effect.Warheads=                                ; 弹头 , 连锁死亡使用的弹头 , 不写或留空就使用 [MarkControls] -> Warhead 的弹头
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Modes=0                                  ; 整数 , 【伤害模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【伤害模式】
                                                ; 0 = 直接造成伤害 (无弹头动画) , 伤害 = [CombatDamage] -> MaxDamage
                                                ; 1 = 引爆弹头 (结算护甲) , 伤害 = 【引爆弹头的伤害】为 0 则【单位的最大生命值】
```



## 建筑变卖 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=Sell
```

标记生效的时刻，建筑自动变卖。

### 注意

* 只能对建筑生效（挂载在其他单位上时没有效果）。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【变卖的概率】|0.2 = 20% 的概率，0 = 无法变卖，小于 0 按 0 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【变卖成功时播放的动画】【变卖失败时播放的动画】 , 不写就不显示动画
```



## 静默状态 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=StateSilent
```

标记生效期间，单位进入静默状态，具体表现有别于 emp 或断电（比如失去遥控中心）。  
单位会停止当前的攻击并且不接受新的指令，步兵载具愣在原地，飞机停在天上，建筑的基础功能正常运转（比如提供建造前提），AI 的生产建筑会停止生产，载员正常开火，母舰静默后子机会立即中断任务，奴矿静默后奴隶照常采矿，展开的建筑可以收起来但是无法再展开。

### 注意

* 由于逻辑冲突，此效果种类对狩猎者无效。

* 但是多个静默状态叠加时，AI 的建造时间可能出现微小的偏差。

* 强度值对此效果种类无效。

### 强度值转换：0 项参数

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【处于静默状态的单位身上循环播放的动画】 , 不写就不显示动画
Effect.AnimDelays=31                            ; 整数 , 每次播放【处于静默状态的单位身上循环播放的动画】的延迟时间 , 默认值是 31
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Owner=All                                ; 作战方归属 , 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
                                                ; 来源不符合会立刻进入结束状态 , 无来源忽略此限制 (来源所属的作战方是挂载标记时刻的来源 , 而非现在标记来源单位所属的作战方)
Effect.Modes=0,0,0                              ; 三个整数 , 【建筑静默模式】【单位静默模式】【载员静默模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【建筑静默模式】
                                                ; 仅对建筑有效
                                                ; 0 = 掉线 (电力仍然可以正常提供 , 对一些特殊建筑无效 , 此限制暂时解决不了)
                                                ; 1 = 掉线并断电 (同上)
                                                ; 2 = 断电 (对电厂 , 矿厂和一些特殊建筑无效 , 驻军建筑无法断电但是也无法攻击 , 此限制暂时解决不了)
                                                ; 3 = 单纯无法攻击
                                                ; 【单位静默模式】
                                                ; 对可移动的单位有效
                                                ; 0 = 无法控制 , 类似于遥控坦克失去遥控中心的效果 , vxl 单位会变黑
                                                ; 1 = 无法移动 , 不响应攻击指令 , 单位仍然可以被选中 , 可以保留移动指令 (效果结束后会跑过去)
                                                ; 2 = 无法移动 , 但是可以攻击 (机场飞机慎用)
                                                ; 【载员静默模式】
                                                ; 当【单位静默模式】 = 1,2 时有效 , 对可以对外开火的战斗要塞类单位有效 , ifv 不算在里面 , 【单位静默模式】 = 0 时载员强制哑火
                                                ; 0 = 载员也哑火
                                                ; 1 = 不影响载员
```



## 嘲讽状态 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=StateTaunt
```

标记生效期间，每经过一定的时间，都会把周围单位的攻击目标强制改为自己，即便这个单位无法攻击自己（即具有强制性）。

### 注意

* 由于逻辑冲突，此效果种类对【静默状态】的单位无效。

* 被嘲讽的单位并不会尝试靠近自己以求把自己纳入它的射程范围内。

* 强度值对此效果种类无效。

### 强度值转换：0 项参数

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【触发时在自己身上播放的动画】【触发时在受影响单位身上播放的动画】 , 不写就不显示动画
Effect.Technos=                                 ; 单位列表 , 如果设置了则只对这些单位生效
Effect.Counts=-1                                ; 整数 , 嘲讽次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧嘲讽一次 , 小于 0 按 0 算 , 但是每一帧最多嘲讽一次 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 嘲讽的范围 (半径) , 0 = 没人可嘲讽 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 格子
Effect.Owner=All                                ; 作战方归属 , 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Modes=0,0                                ; 两个整数 , 【移动攻击模式】【单位筛选模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【移动攻击模式】
                                                ; 0 = 向单位集结
                                                ; 1 = 不移动
                                                ; 2 = 仅移动不攻击
                                                ; 【单位筛选模式】
                                                ; 设置了 Effect.Technos 后才有效
                                                ; 0 = 只嘲讽 Effect.Technos 指定的单位
                                                ; 1 = 只不嘲讽 Effect.Technos 指定的单位
```



## 跳过主动处理阶段 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=SkipStageActive
```

标记生效期间，处理顺序排在此标记后面的其他标记会跳过【主动处理阶段】，暂不支持标记类型筛选。  
跳过【主动处理阶段】带来的影响如下，在【主动处理阶段】的效果会完全失效、冷却时间不恢复、进入的状态不会更新、武器无法发射、护盾不回、生命不加等等。  
未进入生效状态的标记不受此影响，一旦这个标记进入了生效状态，就会立刻开始跳过【主动处理阶段】，在部分情况下，此特性可以做出强制延迟生效的效果。  
如果有多个跳过主动处理阶段效果种类的标记，则只有处理顺序最靠前的会正常生效，排在后面的会被跳过【主动处理阶段】。

### 注意

* 强度值对此效果种类无效。

### 强度值转换：0 项参数

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
```



## 加成属性 <主动>

以下各项所用的参数都是一样的，区别是它们操作不同的单位加成属性。

|`<EffectType>`|操作的属性|备注|
|:-:|:-:|:-|
|`MultSpeed`|加成速度||
|`MultArmor`|加成护甲|受到的伤害会除以此值，此值为 0 时会强制变为 1%。|
|`MultArmorDamage`|加成护甲伤害|受到的伤害会乘以此值。|
|`MultFirePower`|加成火力||
|`MultROF`|加成射速||
|`MultEXP`|加成经验值获取|加成变成负数会让单位的经验值越来越少，另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。|
|`MultEXPProvide`|加成经验值提供|加成变成负数会让单位提供负数的经验值，另见 [提供经验值](/经验值与升级与军衔图像/属性-单位.md#提供经验值)。|
|`MultEXPCost`|加成经验值获取|除法形式的 `MultEXP`，此值为 0 时会强制变为 1%，另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。|

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=<EffectType>
```

标记会周期性地增加单位加成属性。

### 注意

* 兼容性提示：  
如果单位获得了箱子效果或 AE（任意 AE 都有可能）的话，则可能丢失全部加成（或干脆加成直接乱掉）。  
应避免持有此效果种类的标记的单位获得任何 AE（包括无效果的 AE）。  
（实际的兼容程度待测试）

* 实际的加成均可以是负数，但是 ROF 最终值最低为 1。

### 强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【增加量】|0.2 = 额外增加 20%，1 = 额外增加 100%，默认值是 `0`。|

在此处：  
`Power.Maxs.Total` = 可以达到的最大值（当前标记的总增加量）；  
`Power.Mins.Total` = 可以达到的最小值（当前标记的总增加量）。

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【成功增加数值时播放的动画】【成功清除数值时播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 增加次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧增加一次 , 小于 0 按 0 算 , 但是每一帧最多增加一次 , 默认值是 0 , 单位 : 帧
Effect.Modes=0,0                                ; 两个整数 , 【增加模式】【清除模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【增加模式】
                                                ; 0 = 固定值，不会清除已有的加成，当前标记增加的数值会在 Delay 完毕时刷新
                                                ; 1 = 正常增加
                                                ; 【清除模式】
                                                ; 0 = 进入结束状态时清除当前标记带来的加成
                                                ; 1 = 不做任何处理 (即永久保持加成)
```



## 经验值 <主动>

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
Effect.Type=EXP
```

标记生效期间，每经过一定的时间，会给单位增加经验值。  
另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。

### 强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【经验值】|0 ~ 1 = 经验值百分比（相比于 1 级），大于 1 = 经验值点数，默认值是 `0`，单位：点。|
|【获得经验值的概率】|-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 其他属性

位于 `rulesmd.ini`：

```ini
[SomeMarkType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【增加经验值时播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 增加经验值的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧增加一次 , 小于 0 按 0 算 , 但是每一帧最多增加一次 , 默认值是 0 , 单位 : 帧
```