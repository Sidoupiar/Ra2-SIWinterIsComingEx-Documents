# AI脚本动作-杂项

## 50000,n 随机跳转脚本

按照设置和权重为当前作战小队更换脚本。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
ScriptPacks=                                    ; 脚本数据集合列表 , 使用第 1 项的数据
```

```ini
; 脚本数据集合列表 , 第 1 项 , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表 , 可以填写重复的脚本 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
```



## 50010,n 输出 `debug.log` 文本

按照设置向 `debug.log` 输出一条文本。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TextPacks=                                      ; 输出文本设置列表 , 使用第 1 项的数据
```

```ini
; 输出文本设置列表 , 第 1 项 , 必要
[SomePrintText]
; 基本属性
Target=Screen                                   ; 文本输出方式 , 可用值 : Log | Screen , 即 debug.log 中和屏幕左上角 , 默认值是 Screen (不区分大小写)
Type=CSF                                        ; 文本类型 , 可用值 : Text | CSF , 即普通文本和 CSF 文本 (要求 Prefix/Suffix/Text 的类型一致) , 默认值是 CSF (不区分大小写)
Prefix=                                         ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本的前缀 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Suffix=                                         ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本的后缀 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Text=                                           ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Color=None                                      ; 颜色 (在 [Colors] 中注册的颜色) , 文本的颜色 , 仅输出到屏幕左上角时有效 , None = 使用作战方的颜色 , 默认值是 (颜色区分大小写 , None 不区分大小写)
```

### 注意

* 如果输出文本设置中的 `Target` 填写了 `Screen` 则会导致无法输出文本。



## 50011,n 输出 CSF 文本

按照设置向屏幕中输出一条文本。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TextPacks=                                      ; 输出文本设置列表 , 使用第 1 项的数据
```

```ini
; 输出文本设置列表 , 第 1 项 , 必要
[SomePrintText]
; 基本属性
Target=Screen                                   ; 文本输出方式 , 可用值 : Log | Screen , 即 debug.log 中和屏幕左上角 , 默认值是 Screen (不区分大小写)
Type=CSF                                        ; 文本类型 , 可用值 : Text | CSF , 即普通文本和 CSF 文本 (要求 Prefix/Suffix/Text 的类型一致) , 默认值是 CSF (不区分大小写)
Prefix=                                         ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本的前缀 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Suffix=                                         ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本的后缀 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Text=                                           ; 文本 , CSF 需要包含前缀 (就是 Name: 的那个) , 输出的文本 , 普通文本输出到屏幕左上角时中文会乱码 , 默认值是 空字符串
Color=None                                      ; 颜色 (在 [Colors] 中注册的颜色) , 文本的颜色 , 仅输出到屏幕左上角时有效 , None = 使用作战方的颜色 , 默认值是 (颜色区分大小写 , None 不区分大小写)
```

### 注意

* 如果输出文本设置中的 `Target` 填写了 `Log` 则会导致无法输出文本。



## 50020,n 随机施放超武

按照设置和权重在当前作战小队的队长脚下施放超武。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
SWPacks=                                        ; 超武数据集合列表 , 使用第 1 项的数据
```

```ini
; 超武数据集合列表 , 第 1 项 , 必要
[SomeSWData]
; 基本属性
SWs=                                            ; 超武列表 , 可以填写重复的超武 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个超武的权重 , 小于 1 视为 1 处理 , 默认值是 1
```



## 50030,n 随机投放单位（未完成）

按照设置和权重在当前作战小队的队长脚下投放单位。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
```



## 50040,n 移动至偏移坐标

按照设置和权重指挥当前作战小队中的所有成员移动至指定坐标。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 , 2 项的数据
OffsetPacks=                                    ; 偏移数据集合列表 , 使用第 1 , 2 , 3 项的数据
TimerPacks=                                     ; 计时数据集合列表 , 使用第 1 , 2 项的数据
; 数据属性
EffectRange=3                                   ; 浮点数 , 作战小队中的成员距离目标点多远时会被认为已经到达了目标点 , 默认值是 3
```

### 选取目标点的设定

根据指定的单位类型选择 1 个单位作为目标点，支持对目标点进行角度偏移。

```ini
; 单位数据集合列表 , 第 1 项 , 必要
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Distance=First                                  ; 距离类型 , 可用值 : First , Closer , Farther , Random , 默认值是 First (不区分大小写)
                                                ; First = 第一个被检测到的单位 , 这是性能较高的方案 , 一般用于检测单位是否存在
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
```

```ini
; 偏移数据集合列表 , 第 1 项 , 可选
[SomeOffsetData]
; 基本属性
Range=0                                         ; 浮点数 , 偏移的距离 , 取值范围 : -100 ~ 100 , 默认值是 0 , 单位 : 格子
Random=no                                       ; yes/no , 从 Max ~ Min 的区间中随机取值 , 此值将取代 Range 的值 , 如果 Min > Max 则取 Range 的值 , 默认值是 no
Max=100                                         ; 浮点数 , 偏移的最大值 , 取值范围 : -100 ~ 100 , 默认值是 100 , 单位 : 格子
Min=-100                                        ; 浮点数 , 偏移的最小值 , 取值范围 : -100 ~ 100 , 默认值是 -100 , 单位 : 格子
Angle=0                                         ; 整数 , 旋转的角度 , 一般取值 0 ~ 360 度 , 但是负数或更大的正数也会被正确计算 , 0 = 正东 (地图右下方向) , 默认值是 0 , 单位 : 度
```

### 选取起始点的设定

默认的起始点是队长的坐标，但是可以通过以下设置把指定的单位所在的坐标作为起始点，并支持进行角度偏移。

```ini
; 单位数据集合列表 , 第 2 项 , 可选
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Distance=First                                  ; 距离类型 , 可用值 : First , Closer , Farther , Random , 默认值是 First (不区分大小写)
                                                ; First = 第一个被检测到的单位 , 这是性能较高的方案 , 一般用于检测单位是否存在
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
```

```ini
; 偏移数据集合列表 , 第 2 项 , 可选
[SomeOffsetData]
; 基本属性
Range=0                                         ; 浮点数 , 偏移的距离 , 取值范围 : -100 ~ 100 , 默认值是 0 , 单位 : 格子
Random=no                                       ; yes/no , 从 Max ~ Min 的区间中随机取值 , 此值将取代 Range 的值 , 如果 Min > Max 则取 Range 的值 , 默认值是 no
Max=100                                         ; 浮点数 , 偏移的最大值 , 取值范围 : -100 ~ 100 , 默认值是 100 , 单位 : 格子
Min=-100                                        ; 浮点数 , 偏移的最小值 , 取值范围 : -100 ~ 100 , 默认值是 -100 , 单位 : 格子
Angle=0                                         ; 整数 , 旋转的角度 , 一般取值 0 ~ 360 度 , 但是负数或更大的正数也会被正确计算 , 0 = 正东 (地图右下方向) , 默认值是 0 , 单位 : 度
```

### 坐标偏移

获取到目标点和起始点之后，支持选择两个点连线（延长线）中的一个点作为实际的目标点。

```ini
; 偏移数据集合列表 , 第 3 项 , 可选
[SomeOffsetData]
; 基本属性
Range=0                                         ; 浮点数 , 偏移的距离 , 取值范围 : -100 ~ 100 , 默认值是 0 , 单位 : 格子
Random=no                                       ; yes/no , 从 Max ~ Min 的区间中随机取值 , 此值将取代 Range 的值 , 如果 Min > Max 则取 Range 的值 , 默认值是 no
Max=100                                         ; 浮点数 , 偏移的最大值 , 取值范围 : -100 ~ 100 , 默认值是 100 , 单位 : 格子
Min=-100                                        ; 浮点数 , 偏移的最小值 , 取值范围 : -100 ~ 100 , 默认值是 -100 , 单位 : 格子
Forward=yes                                     ; yes/no , 取向量方向时是否为正向 , 正向即从【起始点】>>>>【目标点】的方向 , 默认值是 yes
```

### 选择失败时重新选择

执行当前 AI 脚本动作时，没有合适的单位作为目标点（和起始点），支持等待一定时间后重新选择。  
如果没有填写，则没有合适的单位作为目标点（和起始点）时会立刻结束当前 AI 脚本动作。

每经过 `Step` 帧重新寻找一次目标点（和起始点），最多寻找 `Loop` 次。  
若 `SelectNew=yes` 则重新寻找时会切换新的单位类型，否则延用最初选择的单位类型。

```ini
; 计时数据集合列表 , 第 1 项 , 可选
[SomeTimerData]
; 基本属性
Step=30                                         ; 整数 , 每次计时循环的时长 , 小于 1 视为 1 处理 , 默认值是 30 , 单位 : 帧
Loop=1                                          ; 整数 , 计时循环的次数 , 每一次循环结束都会触发一次超时处理 , 超出循环次数后会直接终止计时 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 次
SelectNew=yes                                   ; yes/no , 超时后 (超时处理时) 是否以新的目标进行重新计时 , 默认值是 yes
```

### 等待成员抵达

执行当前 AI 脚本动作时，已经选择实际的目标点后，当有成员抵达目标点时，是否继续等待其他成员到达，超时后会立刻结束当前 AI 脚本动作。  
如果没有填写，则会一直等待到全部成员抵达目标点后才会结束当前 AI 脚本动作。

每经过 `Step` 帧重新检测一次成员与目标点的距离，最多检测 `Loop` 次。

```ini
; 计时数据集合列表 , 第 2 项 , 可选
[SomeTimerData]
; 基本属性
Step=30                                         ; 整数 , 每次计时循环的时长 , 小于 1 视为 1 处理 , 默认值是 30 , 单位 : 帧
Loop=1                                          ; 整数 , 计时循环的次数 , 每一次循环结束都会触发一次超时处理 , 超出循环次数后会直接终止计时 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 次
```



## 50050,n 分裂小队成员（未完成）

按照设置把当前作战小队中的所有成员分裂至多个新的作战小队中并分别执行新的脚本。

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
```

### 注意

* 当前作战小队会失去所有成员。