# AI脚本动作-判断单位数量

## 50300 ~ 50309 判断单位数量并切换脚本

条件判断成功后为当前作战小队切换脚本。  
以下各项所用的数据结构都是一样的，区别是包含的算法不同。

### 运算算法

|AI 脚本动作|判断算法|
|:-:|:-:|
|`50300,n`|等于|
|`50301,n`|不等于|
|`50302,n`|大于|
|`50303,n`|大于等于|
|`50304,n`|小于|
|`50305,n`|小于等于|

### 运算步骤

1. 根据设置统计单位的数量，`操作数1 = 数量 * Mult + Add`。  
当 `OnlyTeamMember=yes` 时是统计当前作战小队内的指定单位类型的单位的数量，此时 `Owner` 失效。

2. 判断成功后为当前作战小队切换脚本。

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 项的数据
ScriptPacks=                                    ; 脚本数据集合列表 , 使用第 1 项的数据
NumberPacks=                                    ; 数值数据集合列表 , 使用第 1 项的数据
```

```ini
; 脚本数据集合列表 , 第 1 项 , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表 , 可以填写重复的脚本 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (操作数 1 , 运算符左侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```

```ini
; 数值数据集合列表 , 第 1 项 , 必要 (操作数 2 , 运算符右侧)
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数列表 , 默认值是 0
Types=Normal                                    ; 数值类型列表 , 每个浮点数的具体含义 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
Weights=1                                       ; 整数列表 , 每个数值的权重 , 小于 1 视为 1 处理 , 默认值是 1
```



## 50310 ~ 50319 判断两种单位数量并切换脚本

条件判断成功后为当前作战小队切换脚本。  
以下各项所用的数据结构都是一样的，区别是包含的算法不同。

### 运算算法

|AI 脚本动作|判断算法|
|:-:|:-:|
|`50310,n`|等于|
|`50311,n`|不等于|
|`50312,n`|大于|
|`50313,n`|大于等于|
|`50314,n`|小于|
|`50315,n`|小于等于|

### 运算步骤

1. 根据设置统计单位的数量，`操作数1 = 数量 * Mult + Add`，`操作数2 = 数量 * Mult + Add`。  
当 `OnlyTeamMember=yes` 时是统计当前作战小队内的指定单位类型的单位的数量，此时 `Owner` 失效。

2. 判断成功后为当前作战小队切换脚本。

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 , 2 项的数据
ScriptPacks=                                    ; 脚本数据集合列表 , 使用第 1 项的数据
```

```ini
; 脚本数据集合列表 , 第 1 项 , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表 , 可以填写重复的脚本 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (操作数 1 , 运算符左侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```

```ini
; 数值数据集合列表 , 第 2 项 , 必要 (操作数 2 , 运算符右侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```



## 50320 ~ 50329 判断单位数量并切换脚本，等待版本

条件判断成功后为当前作战小队切换脚本。  
以下各项所用的数据结构都是一样的，区别是包含的算法不同。

### 运算算法

|AI 脚本动作|判断算法|
|:-:|:-:|
|`50320,n`|等于|
|`50321,n`|不等于|
|`50322,n`|大于|
|`50323,n`|大于等于|
|`50324,n`|小于|
|`50325,n`|小于等于|

### 运算步骤

1. 根据设置统计单位的数量，`操作数1 = 数量 * Mult + Add`。  
当 `OnlyTeamMember=yes` 时是统计当前作战小队内的指定单位类型的单位的数量，此时 `Owner` 失效。

2. 判断成功后为当前作战小队切换脚本。  
如果判断失败，则进入计时，计时结束后重新判断。

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 项的数据
ScriptPacks=                                    ; 脚本数据集合列表 , 使用第 1 项的数据
NumberPacks=                                    ; 数值数据集合列表 , 使用第 1 项的数据
TimerPacks=                                     ; 计时数据集合列表 , 使用第 1 项的数据
```

```ini
; 脚本数据集合列表 , 第 1 项 , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表 , 可以填写重复的脚本 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (操作数 1 , 运算符左侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```

```ini
; 数值数据集合列表 , 第 1 项 , 必要 (操作数 2 , 运算符右侧)
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数列表 , 默认值是 0
Types=Normal                                    ; 数值类型列表 , 每个浮点数的具体含义 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
Weights=1                                       ; 整数列表 , 每个数值的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 计时数据集合列表 , 第 1 项 , 可选 (不写直接结束计时)
[SomeTimerData]
; 基本属性
Step=31                                         ; 整数 , 每次计时循环的时长 , 小于 1 视为 1 处理 , 默认值是 31 , 单位 : 帧
Loop=1                                          ; 整数 , 计时循环的次数 , 每一次循环结束都会触发一次超时处理 , 超出循环次数后会直接终止计时 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 次
```



## 50330 ~ 50339 判断两种单位数量并切换脚本

条件判断成功后为当前作战小队切换脚本。  
以下各项所用的数据结构都是一样的，区别是包含的算法不同。

### 运算算法

|AI 脚本动作|判断算法|
|:-:|:-:|
|`50330,n`|等于|
|`50331,n`|不等于|
|`50332,n`|大于|
|`50333,n`|大于等于|
|`50334,n`|小于|
|`50335,n`|小于等于|

### 运算步骤

1. 根据设置统计单位的数量，`操作数1 = 数量 * Mult + Add`，`操作数2 = 数量 * Mult + Add`。  
当 `OnlyTeamMember=yes` 时是统计当前作战小队内的指定单位类型的单位的数量，此时 `Owner` 失效。

2. 判断成功后为当前作战小队切换脚本。  
如果判断失败，则进入计时，计时结束后重新判断。

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 , 2 项的数据
ScriptPacks=                                    ; 脚本数据集合列表 , 使用第 1 项的数据
TimerPacks=                                     ; 计时数据集合列表 , 使用第 1 项的数据
```

```ini
; 脚本数据集合列表 , 第 1 项 , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表 , 可以填写重复的脚本 , 但是已经有权重了 , 这样做没有意义
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (操作数 1 , 运算符左侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```

```ini
; 数值数据集合列表 , 第 2 项 , 必要 (操作数 2 , 运算符右侧)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Owner=All                                       ; 作战方归属 , 单位所属的作战方 , 用于选取单位
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
OnlyTeamMember=no                               ; yes/no , 是否仅检查当前作战小队中的成员 , 默认值是 no
Team=                                           ; AI 作战小队 , 检查符合 AI 作战小队类型的作战小队成员 , 默认值是 任意 AI 作战小队 (不写或留空时)
Mult=1                                          ; 浮点数 , 倍率 , 默认值是 1
Add=0                                           ; 浮点数 , 增加值 , 默认值是 0
```

```ini
; 计时数据集合列表 , 第 1 项 , 可选 (不写直接结束计时)
[SomeTimerData]
; 基本属性
Step=31                                         ; 整数 , 每次计时循环的时长 , 小于 1 视为 1 处理 , 默认值是 31 , 单位 : 帧
Loop=1                                          ; 整数 , 计时循环的次数 , 每一次循环结束都会触发一次超时处理 , 超出循环次数后会直接终止计时 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 次
```