# 触发事件-杂项

## 50000 ~ 50001 指定作战方拥有指定类型的单位

判断指定作战方是否拥有指定类型的单位，此判断可以检测到[单位转换](/功能扩展-弹头.md#弹头---单位转换)后的单位，但是性能可能不如其他的类似效果的触发事件。

以下各项所用的数据结构都是一样的，区别是检测类型不同。

### 运算算法

|触发事件|说明|
|:-:|:-|
|`ID=EventCount,[Event1],50000,0,[IDCode],[EventX]`|指定作战方拥有指定类型的单位。|
|`ID=EventCount,[Event1],50001,0,[IDCode],[EventX]`|指定作战方不拥有指定类型的单位。|

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 项的数据
NumberPacks=                                    ; 数值数据集合列表 , 使用第 1 项的数据
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (指定的单位类型)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

```ini
; 数值数据集合列表 , 第 1 项 , 必要 (指定的作战方索引)
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数列表 , 默认值是 0
Types=Normal                                    ; 数值类型列表 , 每个浮点数的具体类型 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
Weights=1                                       ; 整数列表 , 每个数值的权重 , 小于 1 视为 1 处理 , 默认值是 1
```



## 50010 ~ 50011 当前作战方在指定路径点拥有指定建筑

判断当前作战方在指定路径点是否拥有指定建筑（建筑的最上角）。

### 运算算法

|触发事件|说明|
|:-:|:-|
|`ID=EventCount,[Event1],50010,0,[IDCode],[EventX]`|当前作战方在指定路径点拥有指定建筑。|
|`ID=EventCount,[Event1],50011,0,[IDCode],[EventX]`|当前作战方不在指定路径点拥有指定建筑。|

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 项的数据
NumberPacks=                                    ; 数值数据集合列表 , 使用第 1 项的数据
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (指定的单位类型)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 建筑 , 只能填一项建筑
```

```ini
; 数值数据集合列表 , 第 1 项 , 必要 (指定的路径点编号)
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数 , 会去尾转换为整数 , 只能填一项 , 默认值是 0
Types=Normal                                    ; 数值类型 , 每个浮点数的具体类型 , 只能填一项 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
```



## 50020 当前作战方在指定路径点附近存在建筑

判断当前作战方在指定路径点附近是否存在建筑（路径点位于区域最上角）。

### 数据结构

均位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用第 1 项的数据
NumberPacks=                                    ; 数值数据集合列表 , 使用第 1 项的数据
```

```ini
; 单位数据集合列表 , 第 1 项 , 必要 (单位类型黑名单)
[SomeTechnoData]
; 基本属性
Technos=                                        ; 建筑 , 只能填一项建筑 , 黑名单 , 不检测这种建筑
```

```ini
; 数值数据集合列表 , 第 1 项 , 必要 (指定的路径点编号 , 区域宽度 , 区域高度)
; 区域宽度 和 区域高度 最小为 1 , 请勿填写过小的数值 , 单位 : 格子
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数 , 会去尾转换为整数 , 只能填 3 项 , 默认值是 0
Types=Normal                                    ; 数值类型 , 每个浮点数的具体类型 , 只能填 3 项 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
```