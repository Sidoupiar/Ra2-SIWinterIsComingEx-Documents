# 触发动作-杂项

## 50000 ~ 50001 当前作战方增加金钱

使当前作战方增加或减少金钱。

### 运算算法

|触发动作|说明|
|:-:|:-|
|`ID=ActionCount,[Action1],50000,0,0,增加的金钱数值,0,0,0,A,[ActionX]`|增加金钱。|
|`ID=ActionCount,[Action1],50001,0,0,减少的金钱数值,0,0,0,A,[ActionX]`|减少金钱。|



## 50010 ~ 50011 随机援军

在随机路径点召唤随机援军单位。

### 运算算法

|触发动作|说明|
|:-:|:-|
|`ID=ActionCount,[Action1],50010,0,0,[IDCode],0,0,0,A,[ActionX]`|以单位列表为基准随机。|
|`ID=ActionCount,[Action1],50011,0,0,[IDCode],0,0,0,A,[ActionX]`|以特遣部队列表为基准随机。|

### 数据结构

位于 `rulesmd.ini`：

```ini
[SomeDataPackType]
; 数据集合属性
TechnoPacks=                                    ; 单位数据集合列表 , 使用整个列表
ScriptPacks=                                    ; 脚本数据集合列表 , 使用整个列表
NumberPacks=                                    ; 数值数据集合列表 , 使用整个列表
```

### 选择单位

整个列表随机是均权随机，然后再根据权重选择。

从设置中根据权重和数量援军单位并把这些单位加入到脚本之中。  
创建援军单位时，`Counts` 决定当前选中的这个类型的单位要创建几个，实际创建几个就会占几个数量，而 `Total` 会限制最终创建的数量。

位于 `rulesmd.ini`：

```ini
; 单位数据集合列表 , 整个列表随机后再随机选择 , 必要
[SomeTechnoData]
; 基本属性
Technos=                                        ; 单位列表 , 可以填写任意类型的单位 , 虽然可以使用建筑援军 , 但是请确保不会重叠 , 逻辑本身不会检测重叠 , 50010 使用此列表
TaskForces=                                     ; 特遣部队列表 , 特遣部队需要注册 , 50011 使用此列表
Weights=1                                       ; 整数列表 , 每个单位的权重 , 小于 1 视为 1 处理 , 默认值是 1
Counts=1                                        ; 整数列表 , 每个单位的创建数量 , 如果使用特遣部队则表示使用几套特遣部队中的单位 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 个
Total=1                                         ; 整数 , 援军单位总数 , 如果使用特遣部队则表示使用特遣部队的总套数 , 小于 1 视为 1 处理 , 默认值是 1 , 单位 : 个
```

### 选择路径点

整个列表随机是均权随机，然后再根据权重选择。

```ini
; 数值数据集合列表 , 整个列表随机后再随机选择 , 必要 (指定的路径点编号)
[SomeNumberData]
; 基本属性
Numbers=0                                       ; 浮点数列表 , 会去尾转换为整数 , 默认值是 0
Types=Normal                                    ; 数值类型列表 , 每个浮点数的具体类型 , 只能填一项 , 默认值是 Normal (不区分大小写)
                                                ; 可用值 : Normal (普通数值) , Global (全局变量) , Local (局部变量) , House (指定的作战方局部变量)
                                                ; 当值为 Global , Local , House 时 , Numbers 中对应的数值会作为索引 (去尾转为整数) 来取出相应的变量的值 , 变量不存在时取出它们的默认值 0
Weights=1                                       ; 整数列表 , 每个数值的权重 , 小于 1 视为 1 处理 , 默认值是 1
```

### 执行脚本

为了保持脚本稳定，会使用与路径点的列表索引位置相同的脚本。

位于 `rulesmd.ini`：

```ini
; 脚本数据集合列表 , 整个列表 (与路径点的列表索引位置相同) , 必要
[SomeScriptData]
; 基本属性
Scripts=                                        ; AI 脚本列表
Weights=1                                       ; 整数列表 , 每个 AI 脚本的权重 , 小于 1 视为 1 处理 , 默认值是 1
Team=                                           ; AI 作战小队 , 使用此 AI 作战小队为援军单位创建一个新的作战小队
```