# 元素伤害总体说明

## 元素抗性与元素免疫的计数器模式

在单位被创建时，单位会创建时的单位类型创建一个计数器，计数器会记录单位当前拥有的【元素抗性】或免疫的【元素类型】以及它们的层数。  
当计数器的层数归 0 或变成负数时，单位会被视为不拥有【元素抗性】或免疫的【元素类型】，负数层数不会被记录。  
单位变形或继承属性时不会更新计数器。

栗子：

```ini
[TechnoType_A]
; 其他代码省略
ResistanceTypes=ResistanceBasic
ResistanceNums=1

[WarheadType_B]
; 其他代码省略
ElementTypes=ElementBasic

[WarheadType_C]
; 其他代码省略
ResistanceTypes=ResistanceBasic
ResistanceNums=-2

[ElementBasic]
; 其他代码省略
Resistances=ResistanceBasic

[ResistanceBasic]
; 其他代码省略
```

单位 A 被创建时会立刻拥有【元素抗性】 ResistanceBasic 1 层。  
由于单位 A 拥有 1 层 ResistanceBasic，因此当单位 A 被弹头 B 攻击时，伤害会受到 ResistanceBasic 的影响。

若单位 A 被弹头 C 攻击，则单位 A 的 ResistanceBasic 会被减少 2 层变成了 -1 层，因此单位 A 就失去了 ResistanceBasic。（由于负数层数不记录，此时单位实际拥有 0 层 ResistanceBasic）  
此时单位 A 再次被弹头 B 攻击时，由于单位 A 只有 0 层 ResistanceBasic，被视为无抗性，因此伤害不会受到 ResistanceBasic 的影响。