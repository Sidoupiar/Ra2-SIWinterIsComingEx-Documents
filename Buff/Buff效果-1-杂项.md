# Buff效果-杂项

## 引爆弹头 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Warhead
```

在单位脚下引爆一排弹头，单位自己射自己，最终伤害是个整数（去尾）。  
进入生效状态立刻引爆一次，最终引爆完毕后立刻进入结束状态。  
`DamageProcessType` 属性有效。

### 注意

* 由于默认是单位自己射自己，所以弹头需要设置 `AllowDamageOnSelf=yes`（或者 `DamageSelf=yes`）才有伤害。

### 效果强度值转换：N 项参数

参数项数与 `Effect.Warheads` 的长度相匹配。  
每一项都是【对应每个弹头的伤害】：  
`0` = 没伤害，负数 = 治疗，默认值是 `0`。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Warheads=                                ; 弹头列表 , 没有弹头直接进入结束状态
Effect.Healths=-1                               ; 浮点数 , 单位的【生命值下限】 , 当单位当前生命值 <= 【生命值下限】时, 弹头才会引爆 (仍会按照 Delay 来引爆) , 0.2 = 20% 的生命值 , 负数 = 条件不生效 , 默认值是 -1
Effect.Counts=-1                                ; 整数 , 引爆次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Amounts=-1                               ; 整数 , 每次引爆的弹头数量 , 负数 = 全炸一遍 , 0 = 炸不出来 , 默认值是 -1 , 单位 : 个
Effect.Delay=0                                  ; 整数 , 每隔这么多帧炸一次 , 小于 0 按 0 算 , 但是每一帧最多炸一次 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 不全部引爆时 , 是否随机选择弹头 , 不随机则从第一个一直爆到最后一个 , 然后再回到第一个 (只引爆一次时就永远是第一个弹头) , 默认值是 no
Effect.Self=yes                                 ; yes/no , yes = 引爆的弹头是 Buff 所属单位的阵营 , no = 引爆的弹头是挂载 Buff 的单位的阵营 (需要单位存活 , 否则炸不出来) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则 益 会立刻进入结束状态
Effect.Modes=0                                  ; 整数 , 【不符合生命值时是否消耗次数的模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【不符合生命值时是否消耗次数的模式】
                                                ; 0 = 不消耗次数
                                                ; 1 = 消耗次数
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 死亡时引爆弹头 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WarheadDeath
```

在单位脚下引爆一排弹头，单位自己射自己，最终伤害是个整数（去尾）。  
`DamageProcessType` 属性有效。

### 注意

* 由于默认是单位自己射自己，所以弹头需要设置 `AllowDamageOnSelf=yes`（或者 `DamageSelf=yes`）才有伤害。

### 效果强度值转换：N 项参数

参数项数与 `Effect.Warheads` 的长度相匹配。  
每一项都是【对应每个弹头的伤害】：  
`0` = 没伤害，负数 = 治疗，默认值是 `0`。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Warheads=                                ; 弹头列表 , 没有弹头直接进入结束状态
Effect.Amounts=-1                               ; 整数 , 每次引爆的弹头数量 , 负数 = 全炸一遍 , 0 = 炸不出来 , 默认值是 -1 , 单位 : 个
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 不全部引爆时 , 是否随机选择弹头 , 不随机则从第一个一直爆到最后一个 , 然后再回到第一个 (永远从第一个弹头开始 , 引爆数量够多可以全炸好几遍) , 默认值是 no
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 发射武器 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Weapon
```

从单位身上发射武器，发射者是单位自己，瞄准范围内的随机目标（除了自己）。  
使用武器的 `Damage`、`ROF`、`Range`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：5 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0,0                        ; 六个整数 , 【目标选择模式】【切换武器模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【目标选择附加模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【目标选择模式】
                                                ; 0 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 放弃目标
                                                ; 1 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 仍然锁定之前的目标并尝试攻击
                                                ; 2 = 自己选择目标并持续攻击
                                                ; 3 = 打一枪换一个目标
                                                ; 4 = 放弃治疗 , 开始打自己 (不支持单位种类和作战方归属 , 不支持各个瞄准条件)
                                                ; 5 = 放弃治疗 , 开始打自己 (仍然判断各个瞄准条件)
                                                ; 【切换武器模式】
                                                ; 0 = 无可攻击目标时自动切换武器 (周围有潜在目标时)
                                                ; 1 = 不切换武器 , 如果一个武器使用无法开火 , 就会卡在这里再也无法开火
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【目标选择附加模式】
                                                ; 0 = 正常选择
                                                ; 1 = 选择目标脚下的地板 , 因为地板不会死亡 , 所以在超出范围前会一直盯着那块地板打 , 除非重新选择了目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 自瞄武器 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponSelf
```

从单位身上发射武器，发射者是单位自己，瞄准自己。  
使用武器的 `Damage`、`ROF`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

* 与 `发射武器` 的独立选择目标不同，`自瞄武器` 会在开火前选择自己作为目标。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器或任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.TargetSource=no                          ; yes/no , 决定实际的瞄准坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 替换武器 <开火>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponChange
```

单位开火时替换发射的武器。  
使用武器的 `ROF`、`Burst` 用于计算替换周期。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持开火动画和使用单位的开火位置。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 由于单位一次只能使用一个武器，所以多个替换武器会按照先后顺序互相顶替，最后一个才会生效。

* 由于开火时机完全取决于单位的行为，读取的 `ROF` 和 `Burst` 仅用作替换周期而非改变单位的开火延迟。

### 效果强度值转换：3 项参数

|参数|说明|
|:-:|:-|
|【武器替换间隔倍率】|不影响连发替换间隔，-1 = 无间隔，-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发替换间隔】|连发替换间隔默认 5 帧，-5 = 0 帧，-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【替换概率】|替换的概率，每个连发单独计算概率，-1 = 不替换，-0.4 = 60% 的概率替换，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于替换的武器 , 可以有多个 , 没有武器或任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 不支持同时替换
Effect.Counts=-1                                ; 整数 , 替换次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器替换后 (完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Modes=0                                  ; 整数 , 【武器索引】 , 无效值默认为 0 , 默认值是 0
                                                ; 【武器索引】
                                                ; 值 = 武器索引 , 需要索引匹配才进行替换 (不匹配不消耗次数) , -1 = 所有武器 , 0 = 主武器 , 以此类推 , 取值范围 0 ~ 1000
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 替换死亡武器 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponChangeDeath
```

单位自爆时替换发射的武器。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持开火动画和使用单位的开火位置。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 由于单位一次只能使用一个武器，所以多个替换武器会按照先后顺序互相顶替，最后一个才会生效。

### 效果强度值转换：0 项参数

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器 , 用于替换的武器 , 只能有一个 , 没有武器或武器没有弹头会立刻进入结束状态
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 齐射武器 <开火>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponShoot
```

单位开火时同时发射的武器。  
使用武器的 `Damage`、`ROF`、`Range`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

* 如果武器拥有多个 `Burst`，则单位在第 2 次开火时才会射出第 2 个 `Burst`。

### 效果强度值转换：5 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 使用单位实际的开火坐标作为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 使用单位实际的开火坐标作为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0,0                        ; 六个整数 , 【目标选择模式】【切换武器模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【目标选择附加模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【目标选择模式】
                                                ; 由于单位每次开火都是有目标的 , 所以目标会在每次开火时刷新 , 因此模式 1 (仍然锁定之前同步的目标) 是无效的 (已隐藏)
                                                ; 0 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 放弃目标
                                                ; 2 = 自己选择目标并持续攻击
                                                ; 3 = 打一枪换一个目标
                                                ; 4 = 放弃治疗 , 开始打自己 (不支持单位种类和作战方归属 , 不支持各个瞄准条件)
                                                ; 5 = 放弃治疗 , 开始打自己 (仍然判断各个瞄准条件)
                                                ; 【切换武器模式】
                                                ; 0 = 无可攻击目标时自动切换武器 (周围有潜在目标时)
                                                ; 1 = 不切换武器 , 如果一个武器使用无法开火 , 就会卡在这里再也无法开火
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【目标选择附加模式】
                                                ; 0 = 正常选择
                                                ; 1 = 选择目标脚下的地板 , 因为地板不会死亡 , 所以在超出范围前会一直盯着那块地板打 , 除非重新选择了目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 散射武器 <开火>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponShootAll
```

单位开火时同时发射的武器。  
以选定的目标为中心 , 在一定范围内的有效目标都会被武器攻击。  
使用武器的 `Damage`、`ROF`、`Range`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

* 如果武器拥有多个 `Burst`，则单位在第 2 次开火时才会射出第 2 个 `Burst`。

### 效果强度值转换：6 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|
|【检索范围倍率】|实际检索范围 = 此倍率 * 武器射程，行为可被【检索范围模式】调整，实际范围为负数或 0 = 使用 `Effect.Range` 的值（固定值），小于 0 按 0 算，默认值是 `0`，单位：格。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 以选定的目标为中心 , 在这个范围内的有效目标都会被武器攻击 (仍然检测武器的射程) , 小于 0 按 0 算 , 默认值是 0
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 使用单位实际的开火坐标作为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 使用单位实际的开火坐标作为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0,0,0                      ; 七个整数 , 【目标选择模式】【切换武器模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【目标选择附加模式】【检索范围模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【目标选择模式】
                                                ; 由于单位每次开火都是有目标的 , 所以目标会在每次开火时刷新 , 因此模式 1 (仍然锁定之前同步的目标) 是无效的 (已隐藏)
                                                ; 0 = 同步挂载的单位的攻击目标 , 且单位不再攻击时 (比如按下 S 键后) 放弃目标
                                                ; 2 = 自己选择目标并持续攻击
                                                ; 3 = 打一枪换一个目标
                                                ; 4 = 放弃治疗 , 开始打自己 (不支持单位种类和作战方归属 , 不支持各个瞄准条件)
                                                ; 5 = 放弃治疗 , 开始打自己 (仍然判断各个瞄准条件)
                                                ; 【切换武器模式】
                                                ; 0 = 无可攻击目标时自动切换武器 (周围有潜在目标时)
                                                ; 1 = 不切换武器 , 如果一个武器使用无法开火 , 就会卡在这里再也无法开火
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【目标选择附加模式】
                                                ; 0 = 正常选择
                                                ; 1 = 选择目标脚下的地板 , 因为地板不会死亡 , 所以在超出范围前会一直盯着那块地板打 , 除非重新选择了目标
                                                ; 【检索范围模式】
                                                ; 0 = 实际检索范围 = 【检索范围倍率】 * 武器射程
                                                ; 1 = 实际检索范围 = 【检索范围倍率】 * 与目标中心的距离 (水平距离)
                                                ; 2 = 实际检索范围 = 【检索范围倍率】 * Effect.Range
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 溅射武器 <防御>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponShrapnel
```

当单位被攻击时，使用武器攻击周围的单位或地板。  
使用武器的 `Damage`、`ROF`、`Range`、`Speed`、`Burst`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

* 如果武器拥有多个 `Burst`，则单位在第 2 次被攻击时才会射出第 2 个 `Burst`。

* 不可以溅射自己，溅射间隔由武器的 `ROF` 和【连发开火间隔】决定。

### 效果强度值转换：6 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【武器开火间隔倍率】|不影响连发开火间隔，-1 = 无间隔（每帧最多开火 1 次），-1 ~ 0 = 间隔减小，0 = 无变化，1 = 间隔翻倍，小于 -1 按 -1 算，默认值是 `0`，单位：帧。|
|【连发开火间隔】|连发开火间隔默认 5 帧，-5 = 0 帧（每帧最多开火 1 次），-2 = 3 帧，0 = 5 帧，10 = 15 帧，默认值是 `0`，单位：帧。|
|【开火概率】|开火的概率，每个连发单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|
|【原始伤害倍率】|支持把单位受到的原始伤害叠加进实际伤害中，0 = 不计入，1 = 叠加原始伤害，2 = 叠加 2 倍原始伤害，默认值是 `0`，单位：点。|

```lua
实际伤害 = 武器的 Damage * 【武器伤害倍率】 + 单位受到的原始伤害 * 【原始伤害倍率】
```

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态 , 暂不支持同时开火
Effect.Counts=-1                                ; 整数 , 开火次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Amounts=-1,-1                            ; 两个整数 , 溅射目标的最大值和最小值 , 任意一项 -1 = 每人一枪 , 0 = 射不出来 , 最大值 < 最小值 = 射不出来 , 默认值是 -1,-1
Effect.Random=no                                ; yes/no , 武器开火后 (成功开火且完成 Burst 后才会切换) , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 使用单位实际的开火坐标作为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 使用单位实际的开火坐标作为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【目标选择模式】【独立瞄准模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【目标选择模式】
                                                ; 0 = 只攻击单位
                                                ; 1 = 只攻击地板
                                                ; 2 = 攻击单位和地板 , 可能出现单位和其脚下的地板同时被攻击的情况
                                                ; 【独立瞄准模式】
                                                ; 仅在 Effect.Amounts 大于 -1 时有效 , 每个单位或地板至多被攻击 1 次
                                                ; 0 = 优先选择单位 , 还有剩余次数时随机选择攻击地板
                                                ; 1 = 单位和地板混合在一起 , 一共随机选择攻击 Effect.Amounts 次
                                                ; 2 = 单位和地板都会随机选择攻击 Effect.Amounts 次
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 除你武器 <主动，开火>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=WeaponExpelliarmus
```

Buff 生效时，单位的常规武器会单纯无法开火，锁定的目标不会丢失。  
主动使用死亡武器（自杀武器）时会无法开火；单位死亡导致的使用死亡武器的情况，单位会普通的寄掉，武器不会爆炸。

### 注意

* 仅作用于单位原本的武器，扩展的武器或各类武器 Buff 不受此影响。

### 效果强度值转换：0 项参数

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【处于除你武器状态的单位身上循环播放的动画】 , 不写就不显示动画
Effect.AnimDelays=31                            ; 整数 , 每次播放【处于静默状态的单位身上循环播放的动画】的延迟时间 , 默认值是 31
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Owner=All                                ; 作战方归属 , 来源不符合会立刻进入结束状态 , 无来源忽略此限制 (来源所属的作战方是挂载 Buff 时刻的来源 , 而非现在 Buff 来源单位所属的作战方)
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 原地去世 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Death
```

Buff 生效的时刻，单位原地去世。  
`DamageProcessType` 属性无效。

### 注意

* 死亡伤害可以被免疫，而且就算没有伤害也仍旧会发射弹头。

### 效果强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【原地去世的概率】|0.2 = 20% 的概率，0 = 无法去世，小于 0 按 0 算，默认值是 `0`。|
|【引爆弹头的伤害】|0 = 无伤害，负数 = 治疗，默认值是 `0`，单位：点。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【目标死亡成功时播放的动画】【目标死亡失败时播放的动画】 , 不写就不显示动画
Effect.Warheads=                                ; 弹头 , 连锁死亡使用的弹头 , 不写或留空就使用 [BuffControls] -> Warhead 的弹头
Effect.Modes=0                                  ; 整数 , 【伤害模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【伤害模式】
                                                ; 0 = 直接造成伤害 (无弹头动画) , 伤害 = [CombatDamage] -> MaxDamage
                                                ; 1 = 引爆弹头 (结算护甲) , 伤害 = 【引爆弹头的伤害】为 0 则【单位的最大生命值】
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 连锁死亡 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=LinkedDeath
```

Buff 生效期间，如果 Buff 持有者死亡，会导致挂载此 Buff 的单位一起死亡（要求这个单位在地图上，非载员、非驻军等）。  
`DamageProcessType` 属性无效。

### 注意

* 死亡伤害可以被免疫，而且就算没有伤害也仍旧会发射弹头。

### 效果强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【连锁死亡的概率】|0.2 = 20% 的概率，0 = 无法去世，小于 0 按 0 算，默认值是 `0`。|
|【引爆弹头的伤害】|0 = 无伤害，负数 = 治疗，默认值是 `0`，单位：点。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【目标死亡成功时播放的动画】【目标死亡失败时播放的动画】 , 不写就不显示动画
Effect.Warheads=                                ; 弹头 , 连锁死亡使用的弹头 , 不写或留空就使用 [BuffControls] -> Warhead 的弹头
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Modes=0                                  ; 整数 , 【伤害模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【伤害模式】
                                                ; 0 = 直接造成伤害 (无弹头动画) , 伤害 = [CombatDamage] -> MaxDamage
                                                ; 1 = 引爆弹头 (结算护甲) , 伤害 = 【引爆弹头的伤害】为 0 则【单位的最大生命值】
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 建筑变卖 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Sell
```

Buff 生效的时刻，建筑自动变卖。  
生效后 Buff 会立刻进入结束状态。

### 注意

* 只能对建筑生效（挂载在其他单位上时没有效果）。

### 效果强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【变卖的概率】|0.2 = 20% 的概率，0 = 无法变卖，小于 0 按 0 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【变卖成功时播放的动画】【变卖失败时播放的动画】 , 不写就不显示动画
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 立刻狩猎 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Hunt
```

Buff 生效的时刻，可以移动的单位进入 Hunt 任务。  
生效后 Buff 会立刻进入结束状态。

### 注意

* 只能对步兵和载具生效（挂载在其他单位上时没有效果）。

### 效果强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【狩猎的概率】|0.2 = 20% 的概率，0 = 无法变卖，小于 0 按 0 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【进入狩猎成功时播放的动画】【进入狩猎失败时播放的动画】 , 不写就不显示动画
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 静默状态 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=StateSilent
```

Buff 生效期间，单位进入静默状态，具体表现有别于 emp 或断电（比如失去遥控中心）。  
单位会停止当前的攻击并且不接受新的指令，步兵载具愣在原地，飞机停在天上，建筑的基础功能正常运转（比如提供建造前提），AI 的生产建筑会停止生产，载员正常开火，母舰静默后子机会立即中断任务，奴矿静默后奴隶照常采矿，展开的建筑可以收起来但是无法再展开。

### 注意

* 由于逻辑冲突，此效果种类对狩猎者无效。

* 但是多个静默状态叠加时，AI 的建造时间可能出现微小的偏差。

* 效果强度值对此效果种类无效。

### 效果强度值转换：0 项参数

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【处于静默状态的单位身上循环播放的动画】 , 不写就不显示动画
Effect.AnimDelays=31                            ; 整数 , 每次播放【处于静默状态的单位身上循环播放的动画】的延迟时间 , 默认值是 31
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Owner=All                                ; 作战方归属 , 来源不符合会立刻进入结束状态 , 无来源忽略此限制 (来源所属的作战方是挂载 Buff 时刻的来源 , 而非现在 Buff 来源单位所属的作战方)
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Modes=0,0,0                              ; 三个整数 , 【建筑静默模式】【单位静默模式】【<载员>静默模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【建筑静默模式】
                                                ; 仅对建筑有效
                                                ; 0 = 掉线 (电力仍然可以正常提供 , 对一些特殊建筑无效 , 此限制暂时解决不了)
                                                ; 1 = 掉线并断电 (同上)
                                                ; 2 = 断电 (对电厂 , 矿厂和一些特殊建筑无效 , 驻军建筑无法断电但是也无法攻击 , 此限制暂时解决不了)
                                                ; 3 = 单纯无法攻击
                                                ; 【单位静默模式】
                                                ; 对可移动的单位有效
                                                ; 0 = 无法控制 , 类似于遥控坦克失去遥控中心的效果 , vxl 单位会变黑
                                                ; 1 = 无法移动 , 不响应攻击指令 , 单位仍然可以被选中 , 可以保留移动指令 (效果结束后会跑过去)
                                                ; 2 = 无法移动 , 但是可以攻击 (机场飞机慎用)
                                                ; 【<载员>静默模式】
                                                ; 当【单位静默模式】 = 1,2 时有效 , 对可以对外开火的战斗要塞类单位有效 , ifv 不算在里面 , 【单位静默模式】 = 0 时<载员>强制哑火
                                                ; 0 = <载员>也哑火
                                                ; 1 = 不影响<载员>
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 嘲讽状态 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=StateTaunt
```

Buff 生效期间，每经过一定的时间，都会把周围单位的攻击目标强制改为自己，即便这个单位无法攻击自己（即具有强制性）。

### 注意

* 由于逻辑冲突，此效果种类对【静默状态】的单位无效。

* 被嘲讽的单位并不会尝试靠近自己以求把自己纳入它的射程范围内。

* 效果强度值对此效果种类无效。

### 效果强度值转换：0 项参数

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【触发时在自己身上播放的动画】【触发时在受影响单位身上播放的动画】 , 不写就不显示动画
Effect.Technos=                                 ; 单位列表 , 如果设置了则只对这些单位生效
Effect.Counts=-1                                ; 整数 , 嘲讽次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧嘲讽一次 , 小于 0 按 0 算 , 但是每一帧最多嘲讽一次 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 嘲讽的范围 (半径) , 0 = 没人可嘲讽 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 格子
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Modes=0,0                                ; 两个整数 , 【移动攻击模式】【单位筛选模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【移动攻击模式】
                                                ; 0 = 向单位集结
                                                ; 1 = 不移动
                                                ; 2 = 仅移动不攻击
                                                ; 【单位筛选模式】
                                                ; 设置了 Effect.Technos 后才有效
                                                ; 0 = 只嘲讽 Effect.Technos 指定的单位
                                                ; 1 = 只不嘲讽 Effect.Technos 指定的单位
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 跳过主动处理阶段 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=SkipStageActive
```

Buff 生效期间，处理顺序排在此 Buff 后面的其他 Buff 会跳过【主动处理阶段】，暂不支持 Buff 类型筛选。  
跳过【主动处理阶段】带来的影响如下，在【主动处理阶段】的效果会完全失效、冷却时间不恢复、进入的状态不会更新、武器无法发射、护盾不回、生命不加等等。  
未进入生效状态的 Buff 不受此影响，一旦这个 Buff 进入了生效状态，就会立刻开始跳过【主动处理阶段】，在部分情况下，此特性可以做出强制延迟生效的效果。  
如果有多个跳过主动处理阶段效果种类的 Buff，则只有处理顺序最靠前的会正常生效，排在后面的会被跳过【主动处理阶段】。

### 注意

* 效果强度值对此效果种类无效。

### 效果强度值转换：0 项参数

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 经验值 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=EXP
```

Buff 生效期间，每经过一定的时间，会给单位增加经验值。  
另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。

### 效果强度值转换：2 项参数

|参数|说明|
|:-:|:-|
|【经验值】|0 ~ 1 = 经验值百分比（相比于 1 级），大于 1 = 经验值点数，默认值是 `0`，单位：点。|
|【获得经验值的概率】|-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【增加经验值时播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 增加经验值的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧增加一次 , 小于 0 按 0 算 , 但是每一帧最多增加一次 , 默认值是 0 , 单位 : 帧
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 弹药调整 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Ammo
```

Buff 会周期性地增加单位的弹药，需要单位支持弹药。

### 注意

* 概率未成功也会消耗次数。

* 满弹药仍然会尝试恢复（消耗次数）。

* 对于不支持弹药的单位会立刻进入结束状态。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【恢复量】|恢复的数量，0 ~ 1 = 百分比恢复，默认值是 `0`，单位：个。|
|【恢复概率】|-1 = 0%，-0.2 = 20%，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|
|【恢复量上限】|0 = 不限制（恢复到满），小于 0 按 0 算，默认值是 `0`，单位：个。|
|【恢复量下限】|小于 0 按 0 算，默认值是 `0`，单位：个。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【恢复弹药时播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 恢复弹药的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧恢复一次 , 小于 0 按 0 算 , 但是每一帧最多恢复一次 , 默认值是 0 , 单位 : 帧
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。





## 弹药检测 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=AmmoCheck
```

根据单位身上的弹药情况触发效果。  
弹药量大于上限或小于下限时视为满足条件。  
`DamageProcessType` 属性无效。

### 注意

* 由于检测间隔的存在，因此效果并不是实时的，这是出于优化的靠量，如果必要可以考虑缩短检测间隔。

* 对于不支持弹药的单位会立刻进入结束状态。

### 效果强度值转换：2+M+N 项参数

|参数|说明|
|:-:|:-|
|【弹药量上限】|检测的上限值，负数 = 不检测，小于 0 按 0 算，默认值是 `0`，单位：个。|
|【弹药量下限】|检测的下限值，负数 = 不检测，小于 0 按 0 算，默认值是 `0`，单位：个。|

后续的 M 个参数项数与 `Effect.AcceptBuffs` 的长度相匹配。  
每一项都是【挂载持续时间】：  
从第 1 个 Buff 开始（索引 0），单位的 Buff 抗性有效，会改变最终附加的挂载持续时间，附加后的挂载持续时间会被【实际数值的上下限】限制，默认值是 `0`，单位：帧。  
根据目标单位是否拥有指定的 Buff，会有不同的细节效果：

1. 如果目标单位没有指定的 Buff，则挂载此 Buff，挂载者为当前 Buff 的持有者，负数 = 永久，0 = 使用 Buff 的默认值。

2. 如果目标单位已有指定的 Buff，则延长此 Buff 的挂载持续时间，负数 = 倒扣挂载持续时间，0 = 没作用。

在此处：  
`Power.Maxs.Total` 对应项的值，其中 0 = 使用 Buff 的 `Duration.Max` 的值；  
`Power.Mins.Total` 对应项的值，其中 0 = 使用 Buff 的 `Duration.Min` 的值。

后续的 N 个参数项数与 `Effect.Warheads` 的长度相匹配。  
每一项都是【对应每个弹头的伤害】：  
从第 1 个弹头开始（索引 0），0 = 没伤害，负数 = 治疗，默认值是 `0`。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.AcceptBuffs=                             ; Buff 列表 , 满足条件时挂载这些 Buff , 没设置就不挂载
Effect.ExceptBuffs=                             ; Buff 列表 , 不满足条件时移除这些 Buff , 没设置就不移除
Effect.Warheads=                                ; 弹头列表 , 满足条件时引爆这些弹头 , 没有弹头就炸不出来
Effect.Counts=-1                                ; 整数 , 检测的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧检测一次 , 小于 0 按 0 算 , 但是每一帧最多检测一次 , 默认值是 0 , 单位 : 帧
Effect.Amounts=-1,-1                            ; 两个整数 , 【引爆的弹头数量】【Buff 和弹头的触发时间间隔】 , 默认值是 -1
                                                ; 【引爆的弹头数量】 , 负数 = 全炸一遍 , 0 = 炸不出来 , 单位 : 个
                                                ; 【Buff 和弹头的触发时间间隔】 , 负数 = 只触发 1 次且值为初始冷却时间 (绝对值) , 0 = 不限制 , 单位 : 帧
Effect.Random=no                                ; yes/no , 不全部引爆时 , 是否随机选择弹头 , 不随机则从第一个一直炸到最后一个 , 然后再回到第一个 (永远从第一个弹头开始 , 引爆数量够多可以全炸好几遍) , 默认值是 no
Effect.Modes=0                                  ; 整数 , 【检测模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【检测模式】
                                                ; 0 = 弹药符合上下限则算满足条件
                                                ; 1 = 弹药不符合上下限则算满足条件
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 吸收矿物 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=MobileRefinery
```

Buff 生效期间，周期性的检测周围的矿物，吃掉符合要求的矿物。

### 注意

* Buff 并不会控制单位前往合适的地方，单位需要手动控制前往。

* 选取矿物格子时，选择是随机的。

* 【吸收率】不是整数时可能会导致最终获得的金额不是整数，因此小数部分会被丢弃。  
实际增加的金额是当次从所有格子获得的总额并丢弃小数部分之后的数值。

### 效果强度值转换：3 项参数

|参数|说明|
|:-:|:-|
|【吸收量】|每次最多吃下多少个格子的矿物（实际数量四舍五入），0 = 一个格子都没，小于 0 按 0 算，默认值是 `0`，单位：格子。|
|【吸收率】|吃掉的矿物转化为资金的比例，负数 = 扣钱，1 = 100%，0.2 = 20%，0 = 0%，默认值是 `0`。|
|【每个格子的最大吸收量】|这里指的是原始值，实际处理时四舍五入，负数 = 增加矿物（需要原本有矿物），0 = 无法吃矿物，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【吸收矿物时播放的动画】【吸收矿物时在矿物处播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 吃掉矿物的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧吃一次矿物 , 小于 0 按 0 算 , 但是每一帧最多吃一次 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 吃掉矿物的半径 , 0 = 脚下的格子 , 小于 0 按 0 算 , 默认值是 0
Effect.Display=yes                              ; yes/no , 是否显示收入文本 (就像油井那样) , 只显示整数部分 , 默认值是 yes
Effect.Owner=All                                ; 作战方归属 , 哪个作战方可以看到收入文本
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Modes=0                                  ; 整数 , 【形状模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【形状模式】
                                                ; 0 = Effect.Range 为半径的圆形 (性能略微低一点)
                                                ; 1 = Effect.Range 为边长的正方形 , 边长四舍五入
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 生产矿物 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=OreSpawner
```

Buff 生效期间，周期性的检测周围的格子，向可以放置矿物的格子放置矿物。

### 注意

* 选取有效格子时，选择是随机的。

* 【生产率】不是整数时可能会导致最终扣除的金额不是整数，因此小数部分会进位计算。  
实际扣除的金额是当次所有格子生产的总额并把小数部分进位之后的数值。  
此外，实际的矿物是根据矿物的 `Value` 属性来按等级划分的，栗如需要创建 `40` 价值的矿物，且矿物的 `Value=25`，那么就只能创建 `1` 级矿物，即 `25` 价值的矿物，多出来的 `15` 价值会丢失。  
原版游戏中，矿物最多拥有 12 级，虽然此 Buff 可以创建更高等级的矿物，但是实际表现可能出现偏差。

### 效果强度值转换：3 项参数

|参数|说明|
|:-:|:-|
|【生产量】|每次最多生产多少个格子的矿物（实际数量四舍五入），0 = 一个格子都没，小于 0 按 0 算，默认值是 `0`，单位：格子。|
|【生产率】|生产矿物时扣钱的比例，【生产率】不为 `0` 时没钱无法生产，负数 = 获得钱，1 = 100%，0.2 = 20%，0 = 0%，默认值是 `0`。|
|【每个格子的最大生产量】|每个格子最多生产这么多价值的矿物（详见**注意**部分），负数 = 移除矿物（需要原本有矿物），0 = 无法生产矿物，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【生产矿物时播放的动画】【生产矿物时在矿物处播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 生产矿物的次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧生产一次矿物 , 小于 0 按 0 算 , 但是每一帧最多生产一次 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 生产矿物的最大半径 , 0 = 脚下的格子 , 小于 0 按 0 算 , 默认值是 0
Effect.Modes=0,0                                ; 两个整数 , 【形状模式】【矿物种类】 , 无效值默认为 0 , 默认值是 0
                                                ; 【形状模式】
                                                ; 0 = Effect.Range 为半径的圆形 (性能略微低一点)
                                                ; 1 = Effect.Range 为边长的正方形 , 边长四舍五入
                                                ; 【矿物种类】
                                                ; 这里填写矿物注册表 [Tiberiums] 的索引值 , 索引从 0 开始 , 最大支持到 255 , 无效值会弹窗
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 死亡复仇 <受伤，亡语>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=RevengeDeath
```

单位死亡时向【攻击过自身】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加复仇强度，复仇强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己复仇（毕竟都已经凉了）。

* 没造成伤害或造成了负数伤害的话，则不会被选为复仇目标。

* 任意复仇效果都无法连锁引发任意复仇效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【复仇强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【复仇概率】|开火的概率，每个复仇目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0                            ; 四个整数 , 【复仇模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【复仇模式】
                                                ; 0 = 普通复仇一次 , 不计算复仇强度
                                                ; 1 = 计算复仇强度 , 实际伤害 = 武器伤害 * 复仇强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 攻击复仇 <攻击，受伤>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=RevengeAttack
```

单位攻击命中时向【攻击过自身】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加复仇强度，复仇强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己复仇（不为什么）。

* 没造成伤害或造成了负数伤害的话，则不会被选为复仇目标。

* 任意复仇效果都无法连锁引发任意复仇效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【复仇强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【复仇概率】|开火的概率，每个复仇目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Counts=-1                                ; 整数 , 复仇次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧复仇一次 , 小于 0 按 0 算 , 但是每一帧最多复仇一次 , 默认值是 0 , 单位 : 帧
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【复仇模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【复仇清理模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【复仇模式】
                                                ; 0 = 普通复仇一次 , 不计算复仇强度
                                                ; 1 = 计算复仇强度 , 实际伤害 = 武器伤害 * 复仇强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【复仇清理模式】
                                                ; 0 = 不清空复仇目标
                                                ; 1 = 清空复仇目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 受伤复仇 <受伤>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=RevengeDamage
```

单位被攻击时向【攻击过自身】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加复仇强度，复仇强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己复仇（不为什么）。

* 没造成伤害或造成了负数伤害的话，则不会被选为复仇目标。

* 当次攻击的单位不会被复仇。

* 任意复仇效果都无法连锁引发任意复仇效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【复仇强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【复仇概率】|开火的概率，每个复仇目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Counts=-1                                ; 整数 , 复仇次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧复仇一次 , 0 = 不限制 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【复仇模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【复仇清理模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【复仇模式】
                                                ; 0 = 普通复仇一次 , 不计算复仇强度
                                                ; 1 = 计算复仇强度 , 实际伤害 = 武器伤害 * 复仇强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【复仇清理模式】
                                                ; 0 = 不清空复仇目标
                                                ; 1 = 清空复仇目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 死亡殉爆 <攻击，亡语>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=MartyrdomDeath
```

单位死亡时向【自身攻击过】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加殉爆强度，殉爆强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己殉爆（毕竟都已经凉了）。

* 没造成伤害或造成了负数伤害的话，则不会被选为殉爆目标。

* 任意殉爆效果都无法连锁引发任意殉爆效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【殉爆强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【殉爆概率】|开火的概率，每个殉爆目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0                            ; 四个整数 , 【殉爆模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【殉爆模式】
                                                ; 0 = 普通殉爆一次 , 不计算殉爆强度
                                                ; 1 = 计算殉爆强度 , 实际伤害 = 武器伤害 * 殉爆强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 攻击殉爆 <攻击>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=MartyrdomAttack
```

单位攻击命中时向【自身攻击过】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加殉爆强度，殉爆强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己殉爆（不为什么）。

* 没造成伤害或造成了负数伤害的话，则不会被选为殉爆目标。

* 当次命中的单位不会被殉爆。

* 任意殉爆效果都无法连锁引发任意殉爆效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【殉爆强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【殉爆概率】|开火的概率，每个殉爆目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Counts=-1                                ; 整数 , 殉爆次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧殉爆一次 , 小于 0 按 0 算 , 但是每一帧最多殉爆一次 , 默认值是 0 , 单位 : 帧
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【殉爆模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【殉爆清理模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【殉爆模式】
                                                ; 0 = 普通殉爆一次 , 不计算殉爆强度
                                                ; 1 = 计算殉爆强度 , 实际伤害 = 武器伤害 * 殉爆强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【殉爆清理模式】
                                                ; 0 = 不清空殉爆目标
                                                ; 1 = 清空殉爆目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 受伤殉爆 <攻击，受伤>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=MartyrdomDamage
```

单位被攻击时向【自身攻击过】的单位发射武器。  
单位每次被攻击，除了记录伤害来源外，还会增加殉爆强度，殉爆强度会使发射武器的伤害变得更高。  
使用武器的 `Damage`、`Range`、`Speed`、`Warhead`、`Projectile`、`Anim`、`Report` 用于发射，并且支持绘制激光、电流、辐射、粒子系统。

### 注意

* 不支持对自己殉爆（不为什么）。

* 没造成伤害或造成了负数伤害的话，则不会被选为殉爆目标。

* 任意殉爆效果都无法连锁引发任意殉爆效果。

* 暂不支持特殊武器效果和图形（含扩展的），不支持使用单位的开火位置。  
当开火动画为 8 的倍数时，会按照 8 方向绘制动画，右下为第 1 个动画，顺时针旋转；动画超过 8 个时会随机选择，栗如 16 个动画且朝向右下，会从第 1 个动画和第 9 个动画中随机选择。  
当开火动画不为 8 的倍数时，会随机选择动画。

* 武器的属性缺失或填了不合适的值可能会导致弹窗。

* 通常来说各种命中类的武器（弹头）效果是否生效需要取决于单位自己。

* 需要单位处在地图上才能发射武器。

### 效果强度值转换：4 项参数

|参数|说明|
|:-:|:-|
|【武器伤害倍率】|-1 = 没伤害，-1 ~ 0 = 伤害降低，0 = 无变化，1 = 伤害翻倍，默认值是 `0`，单位：点。|
|【武器射程倍率】|-1 = 没射程，-1 ~ 0 = 射程减小，0 = 无变化，1 = 射程翻倍（小心游戏变卡），小于 -1 按 -1 算，默认值是 `0`，单位：格。|
|【殉爆强度增加量】|0 = 不增加，1 = 每次增加 1，负数会逆转武器伤害，默认值是 `0`，单位：点。|
|【殉爆概率】|开火的概率，每个殉爆目标单独计算概率，-1 = 开不出来，-0.4 = 60% 的概率开火，0 = 100%，小于 -1 按 -1 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Weapons=                                 ; 武器列表 , 用于开火的武器 , 可以有多个 , 没有武器直接进入结束状态 , 任意武器不存在或任意武器没有弹头会立刻进入结束状态
Effect.Counts=-1                                ; 整数 , 殉爆次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧殉爆一次 , 0 = 不限制 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Random=no                                ; yes/no , yes = 选择随机武器 , no = 选择列表顺序的下一个武器 (列表最后一个武器会循环至第一个武器) , 默认值是 no
Effect.Amounts=-1                               ; 整数 , 发射的武器数量 , 负数 = 全射一遍 , 0 = 射不出来 , 默认值是 -1 , 单位 : 个
Effect.UnitType=All                             ; 单位种类 , 需要目标单位符合单位种类
                                                ; 可用值 : All (无简写) , Building | B , Infantry | I , Unit | U , Aircraft | A , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多个单位种类时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配建筑和载具 : Building,Unit 或 B,U (简写可以混用 , 不要有空格)
Effect.Owner=All                                ; 作战方归属 , 需要目标单位符合作战方 , 以实际开火者的情况来判断
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 符号连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Effect.Source=no                                ; yes/no , 决定实际的开火者 , 默认值是 no
                                                ; yes = 开火者是 Buff 来源 , 坐标仍然使用单位本体的
                                                ; no = 开火者是单位本体
Effect.FromSource=no                            ; yes/no , 决定实际的开火坐标 , 寻找范围内目标和判断射程时仍然使用单位本体的坐标 , 默认值是 no
                                                ; yes = 使用 Buff 来源的坐标 , 不影响实际的开火者
                                                ; no = 使用单位本体的坐标
Effect.Self=yes                                 ; yes/no , yes = 以自身为【原点】计算开火坐标 , no = 以目标为【原点】计算开火坐标 (性能略微低一点) , 默认值是 yes
Effect.Other=yes                                ; yes/no , yes = 以目标为【原点】计算命中坐标 , no = 以自身为【原点】计算命中坐标 (性能略微低一点) , 默认值是 yes
Effect.OffsetSource=0,0,0                       ; 三个整数 , 开火坐标 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
                                                ; 为了节约 cpu 资源 , 如果偏移坐标的三项均为 0 的话 , 则不应用【坐标运动轨迹】和【跟随旋转类型】 , 如果想在 0,0,0 上应用它们 , 则可以填写 0,0,-1 或 1,0,0 等数值 , 不用担心会命中地板以下的位置 , 下同
Effect.OffsetSourceBase=0,0,0                   ; 三个整数 , 开火坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 随着单位本体的朝向旋转 , 默认值是 0,0,0
Effect.OffsetTarget=0,0,0                       ; 三个整数 , 命中坐标 (顺序和数值比例同 FLH , 可以照抄) , 对命中点进行偏移 , 默认值是 0,0,0
Effect.OffsetTargetBase=0,0,0                   ; 三个整数 , 命中坐标会在此坐标的基础上进行偏移 (顺序和数值比例同 FLH , 可以照抄) , 默认值是 0,0,0
Effect.OffsetSourceMotion=                      ; 坐标运动轨迹 , Effect.OffsetSource 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetSourceBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetMotion=                      ; 坐标运动轨迹 , Effect.OffsetTarget 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetTargetBaseMotion=                  ; 坐标运动轨迹 , Effect.OffsetTargetBase 的运动轨迹 (性能略微低一点) , 空 = 禁用 , 默认值是 空
Effect.OffsetSourceDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetSource 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetSourceBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetSourceBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetDirection=Self               ; 跟随旋转类型 , 用于决定 Effect.OffsetTarget 如何跟随旋转 , 默认值是 Self (不区分大小写)
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceDirection 的值 , 默认值是 Self (不区分大小写)
Effect.OffsetTargetBaseDirection=Self           ; 跟随旋转类型 , 用于决定 Effect.OffsetTargetBase 如何跟随旋转
                                                ; 可用值 : Self = 实际朝向 , Body = 身体朝向 , Target = 自身 -> 目标的方向作为朝向 , Random = 随机朝向 , None = 不跟随旋转 , Same = 使用 Effect.OffsetSourceBaseDirection 的值 , 默认值是 Self (不区分大小写)
Effect.Modes=0,0,0,0,0                          ; 五个整数 , 【殉爆模式】【对 0% 护甲反应模式】【对 1% 护甲反应模式】【检查武器的瞄准 Buff 的模式】【殉爆清理模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【殉爆模式】
                                                ; 0 = 普通殉爆一次 , 不计算殉爆强度
                                                ; 1 = 计算殉爆强度 , 实际伤害 = 武器伤害 * 殉爆强度
                                                ; 【对 0% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击 , 虽然可能没伤害
                                                ; 1 = 不攻击 0% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【对 1% 护甲反应模式】
                                                ; 0 = 无视护甲进行攻击
                                                ; 1 = 不攻击 1% 的护甲 , 正常计算 ROF (性能略微低一点)
                                                ; 【检查武器的瞄准 Buff 的模式】
                                                ; 0 = 不检查
                                                ; 1 = 检查 (性能略微低一点)
                                                ; 【殉爆清理模式】
                                                ; 0 = 不清空殉爆目标
                                                ; 1 = 清空殉爆目标
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 投放单位 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Team
```

效果等同于 AI 脚本动作 `50030,n`。  
以单位所在位置为 [原点] 创建随机单位，建筑步兵载具飞机都行，如果目标位置被占据了，则会在旁边创建。  
投放的单位归属为 Buff 的持有者，也就是被挂载 Buff 的单位所属的作战方。  
进入生效状态立刻投放一次，最终投放完毕后立刻进入结束状态。

详见 [`随机投放单位`](/触发与AI脚本动作/AI脚本动作-1-杂项.md#50030n-随机投放单位)。

### 注意

* 投放得太快太多可能造成游戏卡顿甚至崩溃。

* **通过 Buff 投放单位时，投放者是 Buff 的所有者**。

### 效果强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【投放的概率】|未成功投放也会消耗次数，0.2 = 20% 的概率，0 = 无法投放，小于 0 按 0 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【投放时播放的动画】 , 不写就不显示动画
Effect.DataPack=                                ; 数据包的注册名 , 注意不是填写 IDCode , 数据包含义请见【AI 脚本动作 50030,n】 , 没有数据包直接进入结束状态
Effect.Counts=-1                                ; 整数 , 投放次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧投一次 , 小于 0 按 0 算 , 但是每一帧最多投一次 , 默认值是 0 , 单位 : 帧
Effect.Self=yes                                 ; yes/no , yes = 投出的单位是 Buff 所属单位的阵营 , no = 投出的单位是挂载 Buff 的单位的阵营 (需要单位存活) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则 Buff 会立刻进入结束状态
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 死亡时投放单位 <亡语>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=TeamDeath
```

效果等同于 AI 脚本动作 `50030,n`。  
以单位所在位置为 [原点] 创建随机单位，建筑步兵载具飞机都行，如果目标位置被占据了，则会在旁边创建。  
投放的单位归属为 Buff 的持有者，也就是被挂载 Buff 的单位所属的作战方。  
进入生效状态立刻投放一次，最终投放完毕后立刻进入结束状态。

详见 [`随机投放单位`](/触发与AI脚本动作/AI脚本动作-1-杂项.md#50030n-随机投放单位)。

### 注意

* 投放得太快太多可能造成游戏卡顿甚至崩溃。

* **通过 Buff 投放单位时，投放者是 Buff 的所有者**。  
但是在这里，因为投放者已经凉了，所以可能有时候不能获得预期的效果。

### 效果强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【投放的概率】|只投放一次，0.2 = 20% 的概率，0 = 无法投放，小于 0 按 0 算，默认值是 `0`。|

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【投放时播放的动画】 , 不写就不显示动画
Effect.DataPack=                                ; 数据包的注册名 , 注意不是填写 IDCode , 数据包含义请见【AI 脚本动作 50030,n】 , 没有数据包直接进入结束状态
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Self=yes                                 ; yes/no , yes = 投出的单位是 Buff 所属单位的阵营 , no = 投出的单位是挂载 Buff 的单位的阵营 (需要单位存活) , 默认值是 yes
                                                ; 如果阵营不是正常的状态 (比如已经被击败) , 则 Buff 会立刻进入结束状态
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。



## 工厂 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Factory
```

通过鼠标点击可以提交订单，然后生产这些单位。

### 注意

* 会自动把生产完毕的建筑丢在工厂的周围，如果周围没有空间，则订单会憋住。  
如果 `Effect.Modes=` 属性导致了建筑重叠，还会引发固有弹窗，还请注意。

* 暂不支持通过鼠标点击在指定的位置建造建筑。  
暂不支持取消建造。

* 如果造到一半的时候 Buff 过期了（或被移除了），那么已经花掉的钱不退。

* 单位的建造时间不吃已有工厂的产能加成（多工厂提速）。

### 效果强度值转换：1+M+N+K 项参数

|参数|说明|
|:-:|:-|
|【订单数量上限】|最多可以积累这么多个订单，0 = 100 个订单，小于 0 按 0 算，默认值是 `0`，单位：个。|

后续的 N 个参数项数与 `Effect.Technos` 的长度相匹配。  
每一项都是【生产时间倍率】：  
负数 = 固定时间（实际取绝对值，单位：帧），0 = 瞬间制造，0.2 = 20% 产能，1 = 100% 产能，默认值是 `0`。  
单位的实际生产时间会因为【生产时间倍率】而改变（最少 1 帧）。  
兵营、重工等常规生产建筑都带有生产的最大和最小时间限制，但是工厂 Buff 并无此限制，还请注意。

后续的 M 个参数项数与 `Effect.Technos` 的长度相匹配。  
每一项都是【成本倍率】：  
负数 = 变成加钱，0 = 免费，0.2 = 20% 造价的成本，1 = 100% 造价的成本，默认值是 `0`。  
单位实际所需的成本会因为【成本倍率】而改变。

后续的 K 个参数项数与 `Effect.Technos` 的长度相匹配。  
每一项都是【建造数量限制】：  
负数 = 不限制，0 = 限造 1 个，正数 = 固定数值 + 1 的值（去尾），默认值是 `0`，单位：次。  
和单位的 BuildLimit 不同，这是当前 Buff 在全周期内一共就可以建造这么多次此种单位。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 三个动画 , 【生产完毕时播放的动画】【生产出来的单位身上播放的动画】【生产出来的单位在高空时使用的降落伞动画】 , 不写就不显示动画
                                                ; 不写【生产出来的单位在高空时使用的降落伞动画】且需要单位降落时 , 会表现出裸降的效果
Effect.Technos=                                 ; 单位列表 , 可以生产这些单位 , 一个按钮对应一个单位 , 最多 6 个
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.Range=0                                  ; 浮点数 , 如果脚下没有空间 , 那么生产出来的单位最远可以出现在多远的地方 , 0 = 不限制 , 小于 0 按 0 算 , 默认值是 0
Effect.Values=0,0                               ; 两个浮点数 , 默认值是 0
                                                ; 【生产出来的单位出现的额外高度】 , 【降落模式】为不降落时此项无效 , 可以是负数 , 不用担心会把生产出来的单位埋进土里
                                                ; 【多高时才会使用降落伞】 , 【降落模式】为不降落时此项无效 , 否则直接出现在地上 , 可以是负数 (笑) , 常规状态下低于 250 左右的高度的单位会被视为在地上
Effect.ExtraCodeA=0                             ; 整数 , 【自动生产模式】 , 与 Effect.Modes 不同 , 它是支持动态修改的 , 无效值默认为 0 , 默认值是 0
                                                ; 0 = 不自动生产
                                                ; 1 = 自动生产 , 持续制造指定的单位
                                                ; 2 = 自动生产 , 随机选择单位
Effect.ExtraCodeB=0                             ; 整数 , 【自动生产模式】为 1 时 , 自动生产的单位的索引值 (从 0 开始) , 无效值默认为 0 , 默认值是 0
Effect.Modes=0,0,0                              ; 三个整数 , 【按钮回弹时间】【单位投放模式】【降落模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【按钮回弹时间】
                                                ; 这个数值决定了点击按钮后 , 显示多久的按钮【点击】图像 , 最大支持到 512 , 单位 : 帧
                                                ; 这只是一个视觉效果 , 即便按钮没有回弹 , 它仍然可以被点击
                                                ; 【单位投放模式】
                                                ; 0 = 投放在脚下 , 检测碰撞
                                                ; 1 = 投放在脚下 , 不检测碰撞 (建筑重叠会引发固有弹窗 , 还请注意)
                                                ; 2 = 投放在脚下 , 不检测碰撞 , 可以移动的单位自动分散 , 就像驻军从建筑里出来那样
                                                ; 3 = 直接成为载员 , 需要有足够的载员位置
                                                ; 【降落模式】
                                                ; 0 = 不降落 , 生产出来的单位直接出现在对应的地板上
                                                ; 1 = 当工厂在空中 , 或因为额外高度使生产出来的单位的出现位置处于空中时 , 则生产出来的单位会通过降落伞降落
                                                ;     建筑本身永远位于地面上 , 但是额外高度可以使生产出来的单位出现在空中
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

|应用的数值显示|【当前值】|【最大值】|【最小值】|【增加值】|说明|
|:-|:-:|:-:|:-:|:-:|:-|
|`Digital.Primary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Secondary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Tertiary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Quaternary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Button=`|单位数量|-|-|-|点击按钮可以建造单位。|



## 技能 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=Skill
```

通过鼠标点击可以给当前 Buff 所属的单位挂载新的 Buff。（技能的本质就是给自己挂载 Buff）  
点击后会立刻施放技能，之后会进入冷却时间。

### 注意

* 暂不支持通过鼠标点击在指定的位置施放 Buff。

* 技能会在施放的一瞬间把成本扣除（包括预定时），成本不足时点击无效。

* 当前正在冷却的技能不显示在数字里。

### 效果强度值转换：1+M+N+K+L 项参数

|参数|说明|
|:-:|:-|
|【预定数量上限】|最多可以积累这么多个技能预定，0 = 无法预定，小于 0 按 0 算，默认值是 `0`，单位：个。|

后续的 N 个参数项数与 `Effect.AcceptBuffs` 的长度相匹配。  
每一项都是【冷却时间】：  
负数 = 初始进入冷却，固定时间（实际取绝对值），0 = 瞬间完成，正数 = 固定时间，默认值是 `0`，单位：帧。  
技能的实际冷却时间最少为 1 帧。

后续的 M 个参数项数与 `Effect.AcceptBuffs` 的长度相匹配。  
每一项都是【成本】：  
负数 = 变成加钱，0 = 免费，正数 = 扣钱，默认值是 `0`，单位：元。  
施放技能需要成本。

后续的 K 个参数项数与 `Effect.AcceptBuffs` 的长度相匹配。  
每一项都是【施放数量限制】：  
负数 = 不限制，0 = 限施放 1 个，正数 = 固定数值 + 1 的值（去尾），默认值是 `0`，单位：次。  
这是当前 Buff 在全周期内一共就可以施放这么多次此种技能。

后续的 L 个参数项数与 `Effect.AcceptBuffs` 的长度相匹配。  
每一项都是【挂载持续时间】：  
单位的 Buff 抗性有效，会改变最终附加的挂载持续时间，附加后的挂载持续时间会被【实际数值的上下限】限制，默认值是 `0`，单位：帧。  
根据目标单位是否拥有指定的 Buff，会有不同的细节效果：

1. 如果目标单位没有指定的 Buff，则挂载此 Buff，挂载者为当前 Buff 的持有者，负数 = 永久，0 = 使用 Buff 的默认值。

2. 如果目标单位已有指定的 Buff，则延长此 Buff 的挂载持续时间，负数 = 倒扣挂载持续时间，0 = 没作用。

在此处：  
`Power.Maxs.Total` 对应项的值，其中 0 = 使用 Buff 的 `Duration.Max` 的值；  
`Power.Mins.Total` 对应项的值，其中 0 = 使用 Buff 的 `Duration.Min` 的值。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 动画 , 【使用技能时播放的动画】 , 不写就不显示动画
Effect.AcceptBuffs=                             ; Buff 列表 , 点击按钮时挂载这些 Buff , 一个按钮对应一个 Buff , 最多 6 个
Effect.Timer=0                                  ; 整数 , 生效时间的最大值 , 超过时间限制会立刻进入结束状态 , 0 = 无限 , 小于 0 按 0 算 , 默认值是 0 , 单位 : 帧
Effect.ExtraCodeA=0                             ; 整数 , 【自动施放模式】 , 与 Effect.Modes 不同 , 它是支持动态修改的 , 无效值默认为 0 , 默认值是 0
                                                ; 0 = 不自动施放
                                                ; 1 = 自动施放 , 持续施放指定的技能
Effect.ExtraCodeB=0                             ; 整数 , 【自动施放模式】为 1 时 , 自动施放的技能的索引值 (从 0 开始) , 无效值默认为 0 , 默认值是 0
Effect.Modes=0                                  ; 整数 , 【按钮回弹时间】 , 无效值默认为 0 , 默认值是 0
                                                ; 【按钮回弹时间】
                                                ; 这个数值决定了点击按钮后 , 显示多久的按钮【点击】图像 , 最大支持到 512 , 单位 : 帧
                                                ; 这只是一个视觉效果 , 即便按钮没有回弹 , 它仍然可以被点击
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

|应用的数值显示|【当前值】|【最大值】|【最小值】|【增加值】|说明|
|:-|:-:|:-:|:-:|:-:|:-|
|`Digital.Primary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Secondary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Tertiary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Quaternary=`|-|-|-|-|未使用此项数值显示。|
|`Digital.Button=`|技能数量|-|-|-|点击按钮可以施放技能。|



## 加成属性 <主动>

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
Effect.Type=<EffectType>
```

以下各项所用的参数都是一样的，区别是它们操作不同的单位加成属性。

|`Effect.Type=<EffectType>`|操作的属性|备注|
|:-:|:-:|:-|
|`Effect.Type=MultSpeed`|倍率：移动||
|`Effect.Type=MultArmor`|倍率：护甲|受到的伤害会`除以`此值，此值为 0 时会强制变为 0.1%。|
|`Effect.Type=MultVersus`|倍率：护甲伤害|受到的伤害会`乘以`此值。|
|`Effect.Type=MultAttack`|倍率：火力||
|`Effect.Type=MultROF`|倍率：射速||
|`Effect.Type=MultEXP`|倍率：经验值获取|加成变成负数会让单位的经验值越来越少，另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。|
|`Effect.Type=MultEXPProvide`|倍率：经验值提供|加成变成负数会让单位提供负数的经验值，另见 [提供经验值](/经验值与升级与军衔图像/属性-单位.md#提供经验值)。|
|`Effect.Type=MultEXPCost`|倍率：经验值获取|`除法`形式的 `MultEXP`，此值为 0 时会强制变为 0.1%，另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。|
|`Effect.Type=AddSpeed`|追加：移动||
|`Effect.Type=AddDamage`|追加：伤害||
|`Effect.Type=AddAttack`|追加：攻击||
|`Effect.Type=AddROF`|追加：射速|开火后调整，无法扣成 `0` 延迟。|
|`Effect.Type=AddEXP`|追加：经验值获取|加成变成负数会让单位的经验值越来越少，另见 [获取经验值](/经验值与升级与军衔图像/属性-单位.md#获取经验值)。|
|`Effect.Type=AddEXPProvide`|追加：经验值提供|加成变成负数会让单位提供负数的经验值，另见 [提供经验值](/经验值与升级与军衔图像/属性-单位.md#提供经验值)。|

算法：
```lua
-- 部分 [倍率] 是除法 , [追加] 均是加法 , 还请注意
实际值 = 原始值 * ( 1 + 倍率1 + 倍率2 + ... + 倍率n ) + ( 追加1 + 追加2 + ... + 追加n )
```

Buff 会周期性地增加单位加成属性。

### 注意

* 实际的加成均可以是负数，但是 ROF 最终值最低为 1。

### 效果强度值转换：1 项参数

|参数|说明|
|:-:|:-|
|【增加量】|0.2 = 额外增加 20%，1 = 额外增加 100%，默认值是 `0`。|

在此处：  
`Power.Maxs.Total` = 可以达到的最大值（当前 Buff 的总增加量）；  
`Power.Mins.Total` = 可以达到的最小值（当前 Buff 的总增加量）。

### 效果种类相关属性

位于 `rulesmd.ini`：

```ini
[SomeBuffType]
; 效果种类相关属性
Effect.Anims=                                   ; 两个动画 , 【成功增加数值时播放的动画】【成功清除数值时播放的动画】 , 不写就不显示动画
Effect.Counts=-1                                ; 整数 , 增加次数 , 次数耗尽会立刻进入结束状态 , 等于 0 会无法生效并直接进入结束状态 (算作次数耗尽) , 负数 = 无限次 , 默认值是 -1 , 单位 : 次
Effect.Delay=0                                  ; 整数 , 每隔这么多帧增加一次 , 小于 0 按 0 算 , 但是每一帧最多增加一次 , 默认值是 0 , 单位 : 帧
Effect.Modes=0,0                                ; 两个整数 , 【增加模式】【清除模式】 , 无效值默认为 0 , 默认值是 0
                                                ; 【增加模式】
                                                ; 0 = 固定值，不会清除已有的加成，当前 Buff 增加的数值会在 Delay 完毕时刷新
                                                ; 1 = 正常增加
                                                ; 【清除模式】
                                                ; 0 = 进入结束状态时清除当前 Buff 带来的加成
                                                ; 1 = 不做任何处理 (即永久保持加成)
```

### 广播与监听相关属性

不支持广播或监听。

### 数值显示相关属性

不支持数值显示。