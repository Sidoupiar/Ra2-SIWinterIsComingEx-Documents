# 类型-数值显示设置

定义了一项【数值】在什么位置如何显示。  
【数值】包括了最多 4 项实际的数值和相关的【括号字符】和【连接字符】，以及一个与之匹配的【血条】。
具体显示什么数值以及如何显示它们，则由【数值显示设置】关联的【主体】决定。  
【主体】可能是单位，也可能是标记，还可能是某些全局结构。



## 注册

位于 `rulesmd.ini`：

```ini
[PackTypes.DigitalSetting]
0=DigitalSetting1
1=DigitalSetting2
2=DigitalSetting3
```

### 注意

* 索引从 0 开始。

* 此类型并不需要注册，只是提供了这个功能。



## 完整结构

位于 `rulesmd.ini`：

```ini
[SomeDigitalSetting]
; 图像设置 (具体设置待定)
Pal=                                            ; pal 文件名称 , 使用的色盘 , 不含后缀名 , 默认值是 palette (即使用默认色盘)
Shp.Characters.Full=                            ; shp 文件名称 , 字符使用的【满血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Characters.Green=                           ; shp 文件名称 , 字符使用的【绿血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Characters.Yellow=                          ; shp 文件名称 , 字符使用的【黄血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Characters.Red=                             ; shp 文件名称 , 字符使用的【红血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Bars.Full=                                  ; shp 文件名称 , 【血条】使用的【满血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Bars.Green=                                 ; shp 文件名称 , 【血条】使用的【绿血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Bars.Yellow=                                ; shp 文件名称 , 【血条】使用的【黄血】素材 , 不含后缀名 , 默认值是 空 (即不显示)
Shp.Bars.Red=                                   ; shp 文件名称 , 【血条】使用的【红血】素材 , 不含后缀名 , 默认值是 空 (即不显示)

; 显示设置
DisplayType=Default                             ; 显示类型 , 如何显示【数值】 , 具体显示的【数值】取决于提供数值的【主体】 , 可用值见下方表格 , 默认值是 Default
Owner=All                                       ; 作战方归属 , 谁可以看到
                                                ; 可用值 : All (无简写) , Self | S , Allies | A , Enemies | E , Neutral | N , 默认值是 All (不区分大小写)
                                                ; 当需要匹配多种作战方时 , 多个值之间使用 "," 字符连接即可 , 栗如同时匹配己方和敌方 : Self,Enemies 或 S,E (简写可以混用 , 不要有空格)
Observer=yes                                    ; yes/no , 观察者是否可以看到 , 默认值是 yes
Show.Value=yes                                  ; yes/no , 显示【当前值】以及相关的【括号字符】和【连接字符】 , 到底显示哪个数值由【主体】规定 (可能存在不提供此数值的情况) , 默认值是 yes
Show.Max=yes                                    ; yes/no , 显示【最大值】以及相关的【括号字符】和【连接字符】 , 到底显示哪个数值由【主体】规定 (可能存在不提供此数值的情况) , 默认值是 yes
Show.Min=no                                     ; yes/no , 显示【最小值】以及相关的【括号字符】和【连接字符】 , 到底显示哪个数值由【主体】规定 (可能存在不提供此数值的情况) , 默认值是 no
Show.Addon=no                                   ; yes/no , 显示【增加值】以及相关的【括号字符】和【连接字符】 , 到底显示哪个数值由【主体】规定 (可能存在不提供此数值的情况) , 默认值是 no
Show.Percent=no                                 ; yes/no , 是否以百分比的形式显示【当前值】 , 此时 【当前值】 = 【当前值】 / 【最大值】 , 结果转换为百分比并保留 2 位有效数字 , 默认值是 no
Show.Bar=no                                     ; yes/no , 显示【血条】 , 【血条】会体现【当前值】和【最大值】并显示在所有字符的左侧 , 默认值是 no
Show.BarBuffer=no                               ; yes/no , 显示【血条】的缓冲残影 , 默认值是 no
Show.BarBufferTimer=10                          ; 浮点数 , 【血条】的每个缓冲残影消逝所需要的帧数 , 默认值是 10 , 单位 : 帧 / pip
Percent.Green=1                                 ; 浮点数 , 当 【当前值】/【最大值】 的值小于这个比例时使用对应的素材 , 默认值是 1
Percent.Yellow=0.5                              ; 浮点数 , 当 【当前值】/【最大值】 的值小于这个比例时使用对应的素材 , 默认值是 0.5
Percent.Red=0.25                                ; 浮点数 , 当 【当前值】/【最大值】 的值小于这个比例时使用对应的素材 , 默认值是 0.25

; 对齐设置
VerticalAlign=Right                             ; 水平对齐方式 , 可用值 : Left , Right , Center , 默认值是 Right (不区分大小写)
                                                ; 水平对齐会受到 Size 的宽度的影响 , Left = 从最左端向右绘制 , Right = 从最右端向左绘制 , Center = 从中间向左右绘制 , 不涉及水平翻转
HorizontalAlign=Center                          ; 垂直对齐方式 , 可用值 : Top , Bottom , Center , 默认值是 Right (不区分大小写)
                                                ; 垂直对齐会受到 Size 的高度的影响 , Top = 从最顶端向下绘制 , Bottom = 从最底端向上绘制 , Center = 从中间向上下绘制 , 不涉及垂直翻转

; 字符设置
; 取值范围 : 1 - 25 , 分别对应 "0123456789.+-*/= _%#$[]<>" 字符 , 0 = 不显示 , -1 = 由【主体】规定的默认值
Brackets.Value=0,0                              ; 两个整数 , 显示在【当前值】前后的【括号字符】 , 默认值是 0,0
Brackets.Max=0,0                                ; 两个整数 , 显示在【最大值】前后的【括号字符】 , 默认值是 0,0
Brackets.Min=0,0                                ; 两个整数 , 显示在【最小值】前后的【括号字符】 , 默认值是 0,0
Brackets.Addon=0,0                              ; 两个整数 , 显示在【增加值】前后的【括号字符】 , 默认值是 0,0
Separators.Value=-1                             ; 整数 , 显示在【当前值】前面的【连接字符】 , 默认值是 -1
Separators.Max=-1                               ; 整数 , 显示在【最大值】前面的【连接字符】 , 默认值是 -1
Separators.Min=-1                               ; 整数 , 显示在【最小值】前面的【连接字符】 , 默认值是 -1
Separators.Addon=-1                             ; 整数 , 显示在【增加值】前面的【连接字符】 , 默认值是 -1

; 偏移设置
ColumnType=Center                               ; 队列类型 , 在哪个队列显示【数值】 (用于自动偏移) , 可用值 : Left , Right , Center , None , 默认值是 Center (不区分大小写)
                                                ; 一共提供了 3 个自动偏移队列 , Left = 建筑血条位置 , Right = 建筑血条的水平镜像位置 (建筑右侧) , Center = 步兵和载具血条位置
                                                ; 这里只是定义了使用哪个位置队列 , 并不限制单位类型 , 建筑也可以使用 Center , 步兵和载具也可以使用 Left 和 Right
                                                ; 处于队列中时 , 显示的位置会自动进行额外的偏移 , 若 ColumnType=None 则不进行额外的偏移
Offset=0,0                                      ; 两个整数 , 【数值】的偏移坐标 , 默认值是 0,0 , 单位 : 像素
Offset.Bar=0,0                                  ; 两个整数 , 【血条】的偏移坐标 , 默认值是 0,0 , 单位 : 像素
Spacing.Characters=4                            ; 整数 , 每个字符间的间距 , 默认值是 4 (参考于提供的基础素材) , 单位 : 像素
                                                ; 在 Spacing=0 即字符间距 0 像素 (全都重叠在一起) , Spacing=-4 即字符间距 -4 像素 (字符反着排列) , Spacing=8 即字符间距 8 像素
Spacing.Brackets=0,0                            ; 两个整数 , 【括号字符】前后的额外间距 , 默认值是 0,0 , 单位 : 像素
                                                ; 对于处于前面的【括号字符】 , 第 1 个数字是前面的额外间距 , 第 2 个是后面的 , 对于处于后面的【括号字符】则相反
Spacing.Separators=0,0                          ; 两个整数 , 【连接字符】前后的额外间距 , 默认值是 0,0 , 单位 : 像素
Spacing.Bar=0                                   ; 整数 , 【血条】与字符的间距 , 默认值是 0 , 单位 : 像素
Spacing.BarPips=0                               ; 整数 , 【血条】中每个格子的间距 , 默认值是 0 , 单位 : 像素

; 面积设置
; 面积是【数值】所占的面积 , 面积用于对齐和自动偏移 (效果更加类似于占位符)
; 面积不会限制【数值】的实际显示情况 , 即【数值】是可以超出面积显示的
; 对于 Hexagon 和 Hexagon2 显示类型 , 高度是不计入倾斜结果的
Size.Building=0,0                               ; 两个整数 , 宽度和高度 , 由于建筑有面积参数 , 因此这里是每个格子的宽度和高度 , 默认值是 0,0 , 单位 : 像素/格 (对应侧的边长)
                                                ; 小于 0 则为固定宽度和高度 (取绝对值)
Size.Infantry=0,0                               ; 两个整数 , 宽度和高度 , 用于步兵的短血条的情况 , 小于 0 按 0 算 , 默认值是 0,0 , 单位 : 像素
Size.Unit=0,0                                   ; 两个整数 , 宽度和高度 , 用于载具的长血条的情况 , 小于 0 按 0 算 , 默认值是 0,0 , 单位 : 像素
```

### 注意

* 请勿在模式或地图的 ini 中修改此类型的属性。

* 不要使用太多的独立色盘，够用就行了。



## 显示类型

【主体】可以影响显示类型实际显示效果。

|`DisplayType=<Type>`|名称|说明|
|:-:|:-:|:-|
|`Default`|默认|使用【主体】规定的默认项目。|
|`Vertical`|水平|横着显示所有字符。|
|`Horizontal`|垂直|竖着显示所有字符。|
|`Hexagon`|六边形|像建筑血条那样的倾斜。|
|`Hexagon2`|六边形2|像建筑血条那样的倾斜，只不过是在右侧的。|



## 素材规格

提供了一套基础素材，请见 `相关素材` 文件夹。

字符的单个素材需要 25 帧，1 ~ 10 帧分别是数字字符 `0123456789`，11 ~ 25 帧分别为符号字符 `.+-*/= _%#$[]<>`（`=` 后面是 `空格`）。  
【血条】的单个素材需要 3 帧，满格子、空格子和缓冲残影格子。