# 属性-全局

而对于新的经验值系统，需要使用新的全局设置来控制。



## 完整结构

位于 `rulesmd.ini`：

```ini
; 经验值设置
[EXPControls]
; 升级经验值
EXP.Ratio=3                                     ; 浮点数 , 单位升级所需的经验值倍率 , 小于 0 视为 0 处理 , 作为 [SomeTechnoType] -> EXP.Ratio 的默认值使用 , 默认值是 3

; 与旧经验系统的交互
; 以下相关属性仅对击杀经验和 WIC 提供的经验渠道有效
EXP.Old=no                                      ; yes/no , 是否启用与旧经验系统的交互 , 作为 [SomeTechnoType] -> EXP.Old 的默认值使用 , 默认值是 no
EXP.OldPercent=0                                ; 浮点数 , 每次获得经验值时 , 旧经验系统的获得量比例 , 作为 [SomeTechnoType] -> EXP.OldPercent 的默认值使用 , 默认值是 0
                                                ; 如果这里填写 0.8 , 则单位获得 100 经验值 , 那么新经验系统获得 100 经验值 , 旧经验系统获得 80 经验值
EXP.NewPercent=1                                ; 浮点数 , 每次获得经验值时 , 新经验系统的获得量比例 , 作为 [SomeTechnoType] -> EXP.NewPercent 的默认值使用 , 默认值是 1
EXP.OldRatio=3                                  ; 浮点数 , 旧经验系统中单位升级所需的经验值倍率 , 小于 0 视为 0 处理 , 作为 [SomeTechnoType] -> EXP.OldRatio 的默认值使用 , 默认值是 3

; 升级行为
Level.Max=2                                     ; 浮点数 , 单位最多可以升级的次数 , 很难想象这个竟然是浮点数 , 作为 [SomeTechnoType] -> Level.Max 的默认值使用 , 默认值是 2
Level.SetX=                                     ; 单位升级设置 , 升到或降到 X 级时应用此设置 , 从等级 0 开始 , 跨级时挨个生效 (闪烁 , 声音 , 动画 和 类型转换 除外) , 留空表示这级没有任何效果 , 作为 [SomeTechnoType] -> Level.SetX 的默认值使用 , 默认值是 空

; 军衔图像设置相关
Insignia.ShowEnemy=yes                          ; yes/no , 敌对作战方是否可以看到军衔 (看不到则会隐藏) ， 作为 [SomeLevelSetting] -> Insignia.ShowEnemy 的默认值使用 , 默认值是 yes
Insignia.Default=DefaultInsignia                ; 军衔图像设置 , 显示的军衔的默认值 , 默认值是 DefaultInsignia (即会自动载入 [DefaultInsignia] 块的数据作为此项的值)

; 对旧经验系统的军衔图像的支持
Insignia.Old=no                                 ; yes/no , 是否显示旧经验系统的军衔图像 , 作为 [SomeLevelSetting] -> Insignia.Old 的默认值使用 , 默认值是 no
Insignia.OldShowEnemy=yes                       ; yes/no , 敌对作战方是否可以看到旧经验系统的军衔 (看不到则会隐藏) ， 作为 [SomeLevelSetting] -> Insignia.OldShowEnemy 的默认值使用 , 默认值是 yes
Insignia.OldDefault=DefaultInsigniaOld          ; 军衔图像设置 , 显示的军衔的默认值 , 默认值是 DefaultInsigniaOld (即会自动载入 [DefaultInsigniaOld] 块的数据作为此项的值)

; 升到这个等级时相关
Up.MultSpeed=0                                  ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultArmor=0                                  ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultArmorDamage=0                            ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultFirePower=0                              ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultROF=0                                    ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultEXP=0                                    ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultEXPProvide=0                             ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0
Up.MultEXPCost=0                                ; 浮点数 , 单位升级到此等级时获得的加成属性 , 默认值是 0

; 降到这个等级时相关
Down.MultSpeed=0                                ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultArmor=0                                ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultArmorDamage=0                          ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultFirePower=0                            ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultROF=0                                  ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultEXP=0                                  ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultEXPProvide=0                           ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
Down.MultEXPCost=0                              ; 浮点数 , 单位降级到此等级时获得的加成属性 , 默认值是 0
```

可以修改 `DefaultInsigniaSet` 的值或是创建（修改） `[DefaultInsignia]` 块来改变默认行为。

### 注意

* 请勿在模式或地图的 ini 中修改上述任何的 `[EXPControls]` 块中的属性。



## 旧的全局属性

旧经验值系统已经被新的取代。  
虽然系统本身最终被保留了下来，但是击杀经验值不再经过旧经验值系统，军衔等显示行为也已经不再取决于原来的等级。  
依靠原来的等级，原本的属性也依然能够发挥效果，比如精英武器、升级属性等等。

如何获得原来的等级？  
仍旧有一些手段可以获得原来的等级：阵营初始等级，适配于原来系统的训练所、渗透、升级箱子等等。

位于 `rulesmd.ini`：

```ini
[General]
VeteranRatio=3                                  ; 这里的值仍然对旧经验值系统有效
VeteranArmor=1.5                                ; 这里的值仍然对旧经验值系统有效
VeteranSpeed=1.2                                ; 这里的值仍然对旧经验值系统有效
VeteranSight=0                                  ; 这里的值仍然对旧经验值系统有效
VeteranCombat=1.1                               ; 这里的值仍然对旧经验值系统有效
VeteranROF=0.6                                  ; 这里的值仍然对旧经验值系统有效
VeteranCap=2                                    ; 这里的值仍然对旧经验值系统有效
```